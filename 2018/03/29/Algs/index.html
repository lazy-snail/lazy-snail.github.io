<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="æ‡’æ‡’æ‡’èœ—ç‰›ğŸŒ">
  <link 
    rel="icon" 
    href="/img/little-prince.png">
  <title>algs</title>
  
    
      <meta 
        property="og:title" 
        content="algs">
    
    
      <meta 
        property="og:url" 
        content="https://lazy-snail.github.io/2018/03/29/algs/index.html">
    
    
      <meta 
        property="og:img" 
        content="/img/little-prince.png">
    
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2018-03-29">
      <meta 
        property="og:article:modified_time" 
        content="2022-07-01">
      <meta 
        property="og:article:author" 
        content="Neil">
      
        
          <meta 
            property="og:article:tag" 
            content="algs">
        
      
    
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
      
      
      
      
        
        
        
        <script>
          function prismThemeChange() {
            if(document.getElementById('theme-color').dataset.mode === 'dark') {
              if(document.querySelector('[data-prism]')) {
                changeCSS('/js/lib/prism/prism-tomorrow.min.css', '[data-prism]', 'prism-tomorrow');
              } else {
                loadCSS('/js/lib/prism/prism-tomorrow.min.css', 'prism', 'prism-tomorrow');
              }
            } else {
              if(document.querySelector('[data-prism]')) {
                changeCSS('/js/lib/prism/prism.min.css', '[data-prism]', 'prism');
              } else {
                loadCSS('/js/lib/prism/prism.min.css', 'prism', 'prism');
              }
            }
          }
          prismThemeChange()
        </script>
      
      
        
        <link rel="stylesheet" href="/js/lib/prism/prism-line-numbers.min.css">
      
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
        prismThemeChange();
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
        prismThemeChange();
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
        prismThemeChange();
      }
    };
    setDarkmode();
    </script>
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
    
    <link rel="prefetch" href="//cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js" as="script">
  
  
  
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
<meta name="generator" content="Hexo 6.1.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
        <img 
          class="navbar-logo-img"
          width="32"
          height="32"
          src="/img/little-prince.png" 
          alt="blog logo">
      
      <span class="navbar-logo-dsc">æ‡’èœ—ç‰›</span>
    </span>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          Home
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          Archive
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          Tags
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          Categories
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          About
        
      </a>
    
    <a 
      class="navbar-menu-item darknavbar" 
      id="dark">
      <i class="iconfont icon-weather"></i>
    </a>
    <a 
      class="navbar-menu-item searchnavbar" 
      id="search">
      <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i>
    </a>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <main class="main-column">
<article class="card card-content">
  <header>
    <h1 class="post-title">
      algs
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2018-03-29T12:51:50.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2018-03-29</span>
    </time>
    
      <span class="dot"></span>
      
        <a 
          href="/categories/algs/" 
          class="post-meta-link">
          algs
        </a>
      
    
    
      <span class="dot"></span>
      <span>6.5k words</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/algs/" 
            class="post-meta-link">
            algs
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h1 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h1><h2 id="åˆçº§æ’åº"><a href="#åˆçº§æ’åº" class="headerlink" title="åˆçº§æ’åº"></a>åˆçº§æ’åº</h2><p>å‡ ç§åŸºç¡€æ’åºç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚</p>
<h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><p>å†’æ³¡æ’åºæ˜¯æœ€ç®€å•åŸºç¡€çš„æ’åºç®—æ³•ï¼š</p>
<ol>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªï¼›</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼›</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªï¼›</li>
<li>æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒï¼›<br>å…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œåœ¨åŸåœ°äº¤æ¢ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´å¼€é”€ã€‚æ˜¯ä¸€ç§ç¨³å®šæ’åºã€‚<br>C++å®ç°ï¼š<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">BubbleSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><p>æ¥æºäºæ•´ç†æ‰‘å…‹ç‰Œçš„æ’åºç®—æ³•ï¼šå°†æ¯ä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°å·²ç»æœ‰åºçš„åºåˆ—ä¸­åˆé€‚çš„ä½ç½®ï¼Œå³å‰å‘äº¤æ¢ä½¿ä¹‹åˆ°è¾¾æ­£ç¡®ä½ç½®ã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>j<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p>æ¯æ¬¡ï¼ˆç¬¬ i æ¬¡ï¼š0..N-1ï¼‰éƒ½é€‰æ‹©å‡ºå‰©ä½™å…ƒç´ çš„æœ€å°å€¼ï¼Œå°†å…¶ç½®æ¢åˆ° i çš„ä½ç½®ä¸Šå»ã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">SelectionSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> min <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token comment">// æœ€å°å…ƒç´ çš„ç´¢å¼•</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span>
                min <span class="token operator">=</span> j<span class="token punctuation">;</span>
            <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><p>æ€æƒ³ï¼šä½¿æ•°ç»„ä¸­ä»»æ„é—´éš”ä¸º h çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ã€‚ç±»ä¼¼äºæ’å…¥æ’åºï¼Œåªä¸è¿‡æ’å…¥æ’åºæ˜¯äº¤æ¢ç›¸é‚»ï¼ˆé—´éš”ä¸º1ï¼‰å…ƒç´ ï¼Œè€Œå¸Œå°”æ’åºæ˜¯äº¤æ¢é—´éš”ä¸º h çš„å…ƒç´ ã€‚</p>
<img src="/2018/03/29/algs/03/29/algs/Shell.PNG" class title="ä¸€ä¸ªhæœ‰åºæ•°ç»„ï¼Œå³hä¸ªæœ‰åºå­æ•°ç»„ç»„æˆ" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/03/29/algs/Shell.PNG" class="lozad post-image">
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>h <span class="token operator">&lt;</span> length <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>
        h <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> h<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>h <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// å°†æ•°ç»„å˜ä¸ºhæœ‰åº</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> h<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// å°†a[i]æ’å…¥åˆ°a[i-h]ï¼Œa[i-2*h]ï¼Œa[i-3h]...ä¸­</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">>=</span> h <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>j <span class="token operator">-</span> h<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> h<span class="token punctuation">)</span>
                <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j <span class="token operator">-</span> h<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        h <span class="token operator">=</span> h <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å¿«æ’"><a href="#å¿«æ’" class="headerlink" title="å¿«æ’"></a>å¿«æ’</h2><p>é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼Œï¼ˆä¸¤è·¯å¿«æ’ï¼‰å°†ä¸€ä¸ªåºåˆ—åˆ†æˆä¸¤ä¸ªå­åºåˆ—ï¼Œç‹¬ç«‹æ’åºã€‚<br>ä¸å½’å¹¶æ’åºäº’è¡¥ï¼šå½’å¹¶æ’åºå°†åºåˆ—åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†åˆ†åˆ«æ’åºï¼Œå¹¶å°†æœ‰åºçš„å­åºåˆ—å½’å¹¶ä»¥å°†æ•´ä¸ªåºåˆ—æ’åºï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªåºåˆ—ä¹‹å‰ï¼›è€Œå¿«æ’åˆ™æ˜¯ï¼Œå½“ä¸¤ä¸ªå­åºåˆ—éƒ½æœ‰åºæ—¶ï¼Œæ•´ä¸ªåºåˆ—ä¹Ÿå°±è‡ªç„¶æœ‰åºäº†ï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªåºåˆ—ä¹‹åã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lo <span class="token operator">>=</span> hi<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">partition</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">partition</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> lo<span class="token punctuation">,</span> j <span class="token operator">=</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// å·¦å³æ‰«ææŒ‡é’ˆ</span>
    <span class="token class-name">Comparable</span> v <span class="token operator">=</span> a<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ‡åˆ†å…ƒç´ ï¼Œä¸»å…ƒ</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// æ‰«æå·¦å³ï¼Œæ£€æŸ¥æ‰«ææ˜¯å¦ç»“æŸå¹¶äº¤æ¢å…ƒç´ </span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token operator">++</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> hi<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token operator">--</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> lo<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> j<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å°†v=a[j]æ”¾å…¥æ­£ç¡®ä½ç½®</span>
    <span class="token keyword">return</span> j<span class="token punctuation">;</span>  <span class="token comment">// a[lo..j-1]&lt;=a[j]&lt;=a[j+1..hi]è¾¾æˆ</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¼˜ç‚¹</p>
<ul>
<li>å®ç°ç®€å•ï¼Œé€‚ç”¨äºå„ç§ä¸åŒè¾“å…¥æ•°æ®ï¼›</li>
<li>åŸåœ°æ’åºï¼Œåªéœ€è¦ O(1) çš„è¾…åŠ©ç©ºé—´ï¼›</li>
</ul>
<p>ç¼ºç‚¹<br>å®ç°ä¸­è¦é¿å…ä½åŠ£æ€§èƒ½çš„å½±å“ï¼š<br>åˆ’åˆ†æ˜¯å¦ç›¸å¯¹å‡è¡¡ï¼Œå³ä¸»å…ƒçš„é€‰å–ï¼›</p>
<p>ä¼˜åŒ–</p>
<ul>
<li>å°è§„æ¨¡å­åºåˆ—ï¼ˆ7 ~ 15ï¼‰æ”¹ç”¨æ’å…¥æ’åºï¼›</li>
<li>ä¸‰å–æ ·åˆ‡åˆ†ï¼šä½¿ç”¨å­åºåˆ—ä¸€å°éƒ¨åˆ†å…ƒç´ çš„ä¸­ä½æ•°ä½œä¸»å…ƒï¼Œå–æ ·å¤§å°ä¸º 3 æ—¶æ•ˆæœè¾ƒå¥½ï¼›</li>
</ul>
<h2 id="å †æ’"><a href="#å †æ’" class="headerlink" title="å †æ’"></a>å †æ’</h2><p>ä¸¤æ­¥æ“ä½œï¼šå †åŒ–ã€ä¸‹æ²‰ï¼ˆæˆ–ä¸Šæµ®ï¼‰ã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pq<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> pq<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token comment">// æ„é€ å †</span>
    <span class="token comment">// ä»æœ€ä¸‹å±‚ä¸€ä¸ªéå¶èŠ‚ç‚¹å¼€å§‹ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ„é€ å­å †</span>
    <span class="token comment">// è¿™æ ·èƒ½å¤Ÿä¿è¯å¯¹è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å †åŒ–æ—¶ï¼Œä¸‹æ²‰åŠ¨ä½œä¸ä¼šæ‰©æ•£åˆ°å®ƒçš„å­èŠ‚ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">sink</span><span class="token punctuation">(</span>pq<span class="token punctuation">,</span> k<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">show</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// å †æ’åºè¿‡ç¨‹</span>
    <span class="token comment">// ä¾æ¬¡ä¸‹æ²‰å½“å‰æœ€å¤§å…ƒç´ ï¼Œä¿æŒå †</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">exch</span><span class="token punctuation">(</span>pq<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">sink</span><span class="token punctuation">(</span>pq<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸‹æ²‰ï¼Œä½¿å¾—ä»¥ k ä½ç½®ä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ„é€ ä¸€ä¸ªå †</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sink</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pq<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> <span class="token function">less</span><span class="token punctuation">(</span>pq<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>pq<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token function">exch</span><span class="token punctuation">(</span>pq<span class="token punctuation">,</span> k<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        k <span class="token operator">=</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><p>å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—çš„è¿‡ç¨‹ï¼Œi.e. å…ˆä½¿å­åºåˆ—æœ‰åºï¼Œå†ä½¿åºåˆ—æ®µé—´æœ‰åºã€‚</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š O(NlogN) ;</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šè¾…åŠ©ç©ºé—´ï¼šO(N);</li>
<li>ç¨³å®šæ’åºï¼Œå¸¸ä½¿ç”¨é€’å½’å®ç°ã€‚</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> lo<span class="token punctuation">,</span> j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> lo<span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> hi<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
        aux<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> lo<span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> hi<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> mid<span class="token punctuation">)</span>
            a<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> aux<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">></span> hi<span class="token punctuation">)</span>
            a<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> aux<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>aux<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> aux<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            a<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> aux<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            a<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> aux<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è‡ªé¡¶å‘ä¸‹é€’å½’ï¼š</span>
<span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lo <span class="token operator">>=</span> hi<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è‡ªåº•å‘ä¸Šå¾ªç¯ï¼š</span>
<span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    aux <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> sz <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> sz <span class="token operator">=</span> sz <span class="token operator">+</span> sz<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> lo <span class="token operator">&lt;</span> <span class="token class-name">N</span> <span class="token operator">-</span> sz<span class="token punctuation">;</span> lo <span class="token operator">+=</span> sz <span class="token operator">+</span> sz<span class="token punctuation">)</span>
            <span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> lo <span class="token operator">+</span> sz <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>lo <span class="token operator">+</span> <span class="token operator">+</span>sz <span class="token operator">+</span> sz <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">N</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¼˜åŒ–</p>
<ul>
<li>å°è§„æ¨¡å­åºåˆ—ï¼ˆ7 ~ 15ï¼‰æ”¹ç”¨æ’å…¥æ’åº&#x2F;é€‰æ‹©æ’åºï¼›</li>
<li>æµ‹è¯•å­åºåˆ—æ˜¯å¦å·²ç»æœ‰åºï¼ša[mid] &lt;&#x3D; a[mid]ï¼Œåˆ™è¿™ä¸¤ä¸ªå­åºåˆ—æ— éœ€è°ƒç”¨æ¥ä¸‹æ¥çš„ merge() ï¼Œç›´æ¥æ‹·è´å³å¯ï¼›</li>
<li>ä¸å°†å…ƒç´ å¤åˆ¶åˆ°è¾…åŠ©ç©ºé—´ï¼šå°†è¾…åŠ©ç©ºé—´ä¹Ÿå¸¦å…¥ sort()ã€merge() æ–¹æ³•ï¼Œæ¯æ¬¡é€’å½’å˜æ¢äºŒè€…çš„ä½ç½®ï¼Œä»è€Œæ— éœ€åå¤æ‹·è´å­åºåˆ—åˆ°è¾…åŠ©ç©ºé—´ï¼Œè€Œæ˜¯ä¸´æ—¶å°†è¾…åŠ©ç©ºé—´ç”¨äºæ’åºå’Œå½’å¹¶ã€‚</li>
</ul>
<h2 id="çº¿æ€§æ—¶é—´æ’åº"><a href="#çº¿æ€§æ—¶é—´æ’åº" class="headerlink" title="çº¿æ€§æ—¶é—´æ’åº"></a>çº¿æ€§æ—¶é—´æ’åº</h2><p>æ¯”è¾ƒæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸‹é™ O(n*logn) æ˜¯ç¡®å®šçš„ã€‚åœ¨è¿™ç¯‡åšå®¢é‡Œæœ‰<a target="_blank" rel="noopener" href="http://www.cnblogs.com/gaochundong/p/comparison_sorting_algorithms.html" title="å„ç§æ¯”è¾ƒæ’åºçš„å¯¹æ¯”">å„ç§æ¯”è¾ƒæ’åºçš„å¯¹æ¯”</a>ã€‚<br>è¿˜æœ‰ä¸€ç±»éæ¯”è¾ƒæ’åºç®—æ³•ï¼Œé€‚ç”¨äºä¸€äº›ç‰¹å®šæƒ…å†µã€‚è¿™ç§ç‰¹å®šæƒ…å†µä¸€èˆ¬æ˜¯å¯¹é›†åˆçš„èŒƒå›´ç•Œå®šï¼šå½“é›†åˆæ»¡è¶³ä¸€å®šæ¡ä»¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ¯”è¾ƒçš„æ–¹å¼å®ç°æ’åºï¼Œä»è€Œè·å¾—ä¼˜äºæ¯”è¾ƒæ’åºä¸‹é™çš„æ—¶é—´å¤æ‚åº¦ï¼šçº¿æ€§æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ’åºã€‚<br>å¸¸è§çš„çº¿æ€§æ—¶é—´å¤æ‚åº¦æ’åºç®—æ³•æœ‰ï¼š</p>
<ol>
<li>è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰</li>
<li>åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰</li>
<li>æ¡¶æ’åºï¼ˆBucket Sortï¼‰</li>
</ol>
<h3 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h3><p>é™åˆ¶æ¡ä»¶ï¼šå–å€¼èŒƒå›´åœ¨ [m, n] ä¹‹é—´çš„æ•´æ•°ï¼Œwikiè§£é‡Šé›†åˆåˆ†å¸ƒåœ¨ [0, 100] æ—¶æœ€é€‚åˆä½¿ç”¨è®¡æ•°æ’åºã€‚<br>åŸç†ï¼šå¯¹æ¯ä¸€ä¸ªè¾“å…¥å…ƒç´ xï¼Œç¡®å®šå‡ºå°äºxçš„å…ƒç´ ä¸ªæ•°ï¼Œæœ‰äº†è¿™ä¸€ä¿¡æ¯ï¼Œå°±å¯ä»¥æŠŠxç›´æ¥æ”¾åœ¨å®ƒåœ¨æœ€ç»ˆè¾“å‡ºæ•°ç»„çš„ä½ç½®ä¸Šï¼Œä¾‹å¦‚ï¼Œå¦‚æœæœ‰17ä¸ªå…ƒç´ å°äºxï¼Œåˆ™xå°±æ˜¯å±äºç¬¬18ä¸ªè¾“å‡ºä½ç½®ã€‚å½“å‡ ä¸ªå…ƒç´ ç›¸åŒæ˜¯ï¼Œæ–¹æ¡ˆè¦ç•¥ä½œä¿®æ”¹ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚<br>è¿™æ˜¯ä¸€ç§ç¨³å®šæ’åºã€‚<br>ä¼ªä»£ç ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">COUNTING<span class="token operator">-</span><span class="token function">SORT</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">;</span><span class="token class-name">B</span><span class="token punctuation">;</span> k<span class="token punctuation">)</span>
let <span class="token class-name">C</span><span class="token punctuation">[</span><span class="token number">0.</span><span class="token punctuation">.</span>k<span class="token punctuation">]</span> be a <span class="token keyword">new</span> array
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">to</span> <span class="token namespace">k</span>
	<span class="token class-name">C</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">to</span> <span class="token class-name">A</span><span class="token punctuation">.</span>length
	<span class="token class-name">C</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token comment">// C[i] now contains the number of elements equal to i .</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">to</span> <span class="token namespace">k</span>
	<span class="token class-name">C</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token class-name">C</span><span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">// C[i] now contains the number of elements less than or equal to i .</span>
 <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token class-name">A</span><span class="token punctuation">.</span>length downto <span class="token number">1</span>
 	<span class="token class-name">B</span><span class="token punctuation">[</span><span class="token class-name">C</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">A</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
 	<span class="token class-name">C</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h3><p>åŸç†ï¼šä»¥åè¿›åˆ¶æ•°ç»„nä¸ºä¾‹ï¼Œk&#x3D;10ï¼Œæœ€å¤§æ•°å­—çš„ä½æ•°æ˜¯dã€‚æŠŠå…ƒç´ ä»ä¸ªä½æ’å¥½åºï¼Œç„¶åå†ä»åä½æ’å¥½åºï¼Œï¼Œï¼Œï¼Œä¸€ç›´åˆ°å…ƒç´ ä¸­æœ€å¤§æ•°çš„æœ€é«˜ä½æ’å¥½åºï¼Œé‚£ä¹ˆæ•´ä¸ªå…ƒç´ å°±æ’å¥½åºäº†ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(d(n+r))ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n+r)ã€‚<br>è¿™æ˜¯ä¸€ç§ç¨³å®šæ’åºã€‚<br>ä¼ªä»£ç ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">RADIX<span class="token operator">-</span><span class="token function">SORT</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
<span class="token keyword">for</span>  i <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">to</span> <span class="token namespace">d</span>
	use a stable sort  <span class="token keyword">to</span> <span class="token namespace">sort</span> array <span class="token class-name">A</span> on digit i<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="æ¡¶æ’åº"><a href="#æ¡¶æ’åº" class="headerlink" title="æ¡¶æ’åº"></a>æ¡¶æ’åº</h3><p>å‡å®šæ•°æ®æœä»å‡åŒ€åˆ†å¸ƒï¼Œå‡åŒ€ç‹¬ç«‹åˆ†å¸ƒåœ¨[0ï¼Œ 1)åŒºé—´ã€‚å‡è®¾æœ‰mä¸ªæ¡¶ï¼Œå³å°†åŒºé—´åˆ’åˆ†ä¸ºmä¸ªå¤§å°ç›¸åŒçš„å­åŒºé—´ã€‚å°†nä¸ªå…ƒç´ åˆ†åˆ«å­˜æ”¾åˆ°ç›¸åº”çš„æ¡¶ä¸­ï¼Œå†å¯¹å„ä¸ªæ¡¶è¿›è¡Œæ’åºï¼Œå¦‚æ’å…¥æ’åºã€‚æœ€åéå†æ¯ä¸ªæ¡¶ï¼ŒæŒ‰ç…§æ¬¡åºåˆ—å‡ºæ‰€æœ‰å…ƒç´ å³å¯ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡ä¸ºO(n)ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚<br>ä¼ªä»£ç ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">BUCKET<span class="token operator">-</span><span class="token function">SORT</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token class-name">A</span><span class="token punctuation">.</span>length
let <span class="token class-name">B</span><span class="token punctuation">[</span><span class="token number">0.</span><span class="token punctuation">.</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> be a <span class="token keyword">new</span> array
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">to</span> <span class="token namespace">n</span><span class="token operator">-</span><span class="token number">1</span>
	make <span class="token class-name">B</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> an empty list
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">to</span> <span class="token namespace">n</span>
	insert <span class="token class-name">A</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> into <span class="token class-name">B</span><span class="token punctuation">[</span>âŒŠ<span class="token class-name">A</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>âŒ‹<span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">to</span> <span class="token namespace">n</span><span class="token operator">-</span><span class="token number">1</span>
	sort list <span class="token class-name">B</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">with</span> <span class="token namespace">insertion</span> sort
concatenate the lists <span class="token class-name">B</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">B</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>B<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> together in order<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h1 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h1><p>ä¸åˆ†æ²»ç›¸ä¼¼ï¼šéƒ½æ˜¯é€šè¿‡ç»„åˆå­é—®é¢˜çš„è§£æ¥æ±‚è§£åŸé—®é¢˜ã€‚è€Œï¼Œåˆ†æ²»å°†é—®é¢˜åˆ’åˆ†ä¸ºäº’ä¸ç›¸äº¤çš„å­é—®é¢˜ï¼Œé€’å½’åœ°ï¼ˆæ€è·¯ä¸Šï¼‰æ±‚è§£å­é—®é¢˜ï¼Œå†å°†å®ƒä»¬çš„è§£ç»„åˆèµ·æ¥ï¼Œå¾—åˆ°åŸé—®é¢˜çš„è§£ï¼›ä¸ä¹‹ä¸åŒåœ°ï¼ŒåŠ¨æ€è§„åˆ’åº”ç”¨äºå­é—®é¢˜é‡å çš„æƒ…å†µï¼Œi.e. ä¸åŒçš„å­é—®é¢˜å…·æœ‰å…¬å…±çš„å­å­é—®é¢˜ï¼ˆé€’å½’æ±‚è§£å­é—®é¢˜ï¼Œå°†å…¶åˆ’åˆ†ä¸ºæ›´å°çš„å­å­é—®é¢˜ï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ†æ²»ç®—æ³•å°†åšè®¸å¤šä¸å¿…è¦çš„å·¥ä½œâ€”â€”åå¤æ±‚è§£å…¬å…±å­å­é—®é¢˜ï¼›è€ŒåŠ¨æ€è§„åˆ’å¯¹æ¯ä¸ªå­é—®é¢˜åªæ±‚è§£ä¸€æ¬¡ï¼Œå°†ç»“æœä¿å­˜åœ¨ä¸€ä¸ªè¡¨æ ¼ï¼ˆprogramming çš„ç”±æ¥ï¼‰ä¸­ï¼Œä»è€Œé¿å…é‡å¤è®¡ç®—å­å­é—®é¢˜ï¼Œi.e. å‰ªæã€‚<br>å…¸å‹çš„æ—¶ç©ºæƒè¡¡ï¼ˆtime-memory trade-offï¼‰é—®é¢˜ï¼šä»¥ç©ºé—´æ¢æ—¶é—´ã€‚<br>é€šå¸¸ç”¨æ¥æ±‚è§£ <strong>æœ€ä¼˜åŒ–é—®é¢˜ï¼ˆOptimization Problemï¼‰</strong>ï¼Œå³åœ¨å¾ˆå¤šå¯è¡Œè§£ä¸­å¯»æ‰¾ <strong>ï¼ˆä¸€ä¸ª&#x2F;å¤šä¸ªï¼‰æœ€ä¼˜è§£</strong> çš„è¿‡ç¨‹ã€‚</p>
<h2 id="è®¾è®¡æ­¥éª¤"><a href="#è®¾è®¡æ­¥éª¤" class="headerlink" title="è®¾è®¡æ­¥éª¤"></a>è®¾è®¡æ­¥éª¤</h2><ol>
<li>åˆ»ç”»ä¸€ä¸ªæœ€ä¼˜è§£çš„ç»“æ„ç‰¹å¾ï¼›</li>
<li>é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼ï¼›</li>
<li>è®¡ç®—æœ€ä¼˜è§£çš„å€¼â€”â€”åŒå¸¸é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•ï¼›</li>
<li>åˆ©ç”¨è®¡ç®—çš„ä¿¡æ¯æ„é€ ä¸€ä¸ªæœ€ä¼˜è§£ã€‚</li>
</ol>
<p><strong>ä¸¤ç§å®ç°æ–¹æ³•</strong></p>
<ul>
<li>å¸¦å¤‡å¿˜å½•çš„è‡ªé¡¶å‘ä¸‹æ–¹æ³•ï¼ˆtop-down with memoizationï¼‰ã€‚ç”¨æ•°ç»„&#x2F;æ•£åˆ—è¡¨ä¿å­˜é€’å½’è¿‡ç¨‹ä¸­å­é—®é¢˜çš„è§£ï¼Œå½“è¦æ±‚è§£ä¸€ä¸ªå­é—®é¢˜æ—¶ï¼Œå…ˆæ£€æŸ¥æ˜¯å¦å·²ä¿å­˜è¿‡æ­¤è§£ï¼Œæ— åˆ™è®¡ç®—ä¹‹ï¼›</li>
<li>è‡ªåº•å‘ä¸Šæ–¹æ³•ï¼ˆbottom-up methodï¼‰ã€‚éœ€è¦æ°å½“å®šä¹‰å­é—®é¢˜â€œè§„æ¨¡â€çš„æ¦‚å¿µï¼Œä½¿å¾—ä»»ä½•å­é—®é¢˜çš„æ±‚è§£éƒ½åªä¾èµ–äºâ€œæ›´å°çš„â€å­é—®é¢˜çš„è§£ã€‚å› è€Œå¯ä»¥å°†å­é—®é¢˜æŒ‰è§„æ¨¡æ’åºï¼Œä»å°åˆ°å¤§è¿›è¡Œæ±‚è§£ï¼Œå½“æ±‚è§£æŸä¸ªå­é—®é¢˜æ—¶ï¼Œå®ƒæ‰€ä¾èµ–çš„æ›´å°çš„å­é—®é¢˜å·²ç»æ±‚è§£å®Œæ¯•ï¼Œç»“æœå·²ç»ä¿å­˜ã€‚è¿™æ ·å¯ä»¥ä¿è¯æ¯ä¸ªå­é—®é¢˜åªæ±‚è§£ä¸€æ¬¡ï¼Œå¹¶ä¸”æ±‚è§£å®ƒæ—¶ï¼Œå®ƒæ‰€æœ‰çš„å‰æå­é—®é¢˜éƒ½å·²å®Œæˆã€‚</li>
</ul>
<h2 id="åŸç†å’Œé€‚ç”¨æ¡ä»¶"><a href="#åŸç†å’Œé€‚ç”¨æ¡ä»¶" class="headerlink" title="åŸç†å’Œé€‚ç”¨æ¡ä»¶"></a>åŸç†å’Œé€‚ç”¨æ¡ä»¶</h2><p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li><strong>æœ€ä¼˜å­ç»“æ„ï¼›</strong></li>
<li><strong>å­é—®é¢˜é‡å ï¼›</strong></li>
</ul>
<h1 id="è´ªå¿ƒç®—æ³•ï¼ˆgreedy-algorithmï¼‰"><a href="#è´ªå¿ƒç®—æ³•ï¼ˆgreedy-algorithmï¼‰" class="headerlink" title="è´ªå¿ƒç®—æ³•ï¼ˆgreedy algorithmï¼‰"></a>è´ªå¿ƒç®—æ³•ï¼ˆgreedy algorithmï¼‰</h1><p><strong>æ¯ä¸€æ­¥éƒ½åšå‡ºå½“å‰çœ‹èµ·æ¥æœ€ä½³çš„é€‰æ‹©</strong>ã€‚å³ï¼Œæ€»æ˜¯åšå‡º <strong>å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©</strong>ã€‚ç†è®ºä¸Šï¼Œé€‚ç”¨äºè´ªå¿ƒç®—æ³•çš„é—®é¢˜ï¼ŒåŒæ ·èƒ½ç”¨åŠ¨æ€è§„åˆ’æ–¹æ³•è§£å†³ã€‚</p>
<h2 id="è®¾è®¡æ­¥éª¤-1"><a href="#è®¾è®¡æ­¥éª¤-1" class="headerlink" title="è®¾è®¡æ­¥éª¤"></a>è®¾è®¡æ­¥éª¤</h2><p>é¦–å…ˆæ˜¯åŸºäºåŠ¨æ€è§„åˆ’çš„è®¾è®¡æ–¹å¼ï¼š</p>
<ol>
<li>ç¡®å®šé—®é¢˜çš„æœ€ä¼˜å­ç»“æ„ï¼›</li>
<li>è®¾è®¡ä¸€ä¸ªé€’å½’ç®—æ³•ï¼›</li>
<li>è¯æ˜å¦‚æœåšå‡ºä¸€ä¸ªè´ªå¿ƒçš„é€‰æ‹©ï¼Œåˆ™åªå‰©ä¸‹ä¸€ä¸ªå­é—®é¢˜ï¼›å¹¶ä¸”ï¼Œè¯æ˜è´ªå¿ƒé€‰æ‹©æ€»æ˜¯å®‰å…¨çš„ï¼›</li>
<li>è®¾è®¡ä¸€ä¸ªé€’å½’ç®—æ³•å®ç°è´ªå¿ƒç­–ç•¥ï¼›</li>
<li>å°†é€’å½’ç®—æ³•è½¬æ¢ä¸ºè¿­ä»£ç®—æ³•ã€‚</li>
</ol>
<p>æ›´ä¸€èˆ¬åœ°ï¼Œé€šè¿‡è´ªå¿ƒé€‰æ‹©æ”¹è¿›æœ€ä¼˜å­ç»“æ„ï¼Œä½¿å¾—é€‰æ‹©ååªå‰©ä¸‹ä¸€ä¸ªå­é—®é¢˜ï¼š</p>
<ol>
<li>æœ€ä¼˜åŒ–é—®é¢˜è½¬æ¢ä¸ºï¼šåšå‡ºä¸€æ¬¡é€‰æ‹©åï¼Œåªå‰©ä¸‹ä¸€ä¸ªå­é—®é¢˜éœ€è¦æ±‚è§£ï¼›</li>
<li>è¯æ˜åšå‡ºè´ªå¿ƒé€‰æ‹©åï¼ŒåŸé—®é¢˜æ€»æ˜¯å­˜åœ¨æœ€ä¼˜è§£ï¼Œå³è´ªå¿ƒé€‰æ‹©æ€»æ˜¯å®‰å…¨çš„ï¼ˆæ²¡æœ‰å› ä¸ºè¿™ä¸€æ¬¡çš„é€‰æ‹©è€Œä¸¢å¤±å®¢è§‚çš„æœ€ä¼˜è§£ï¼‰ï¼›</li>
<li>è¯æ˜åšå‡ºè´ªå¿ƒé€‰æ‹©åï¼Œå‰©ä½™çš„å­é—®é¢˜æ»¡è¶³æ€§è´¨ï¼šå…¶æœ€ä¼˜è§£ä¸è´ªå¿ƒé€‰æ‹©ç»„åˆå³å¯å¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå³å¾—åˆ°äº†æœ€ä¼˜å­ç»“æ„ã€‚</li>
</ol>
<h2 id="èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ "><a href="#èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ " class="headerlink" title="èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ "></a>èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ </h2><p><strong>è´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼ˆgreedy-choice propertyï¼‰</strong><br>é€šè¿‡åšå‡ºå±€éƒ¨æœ€ä¼˜ï¼ˆè´ªå¿ƒï¼‰é€‰æ‹©æ¥æ„é€ å…¨å±€æœ€ä¼˜è§£ã€‚ä¸åŠ¨æ€è§„åˆ’ä¸åŒï¼Œè´ªå¿ƒç®—æ³•è¿›è¡Œé€‰æ‹©æ—¶å¯èƒ½ä¾èµ–ä¹‹å‰åšå‡ºçš„é€‰æ‹©ï¼Œä½†ä¸ä¾èµ–ä»»ä½•å°†æ¥çš„é€‰æ‹©æˆ–å­é—®é¢˜çš„è§£ã€‚</p>
<p><strong>æœ€ä¼˜å­ç»“æ„</strong><br>åŒåŠ¨æ€è§„åˆ’ã€‚</p>
<h2 id="ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«"><a href="#ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«" class="headerlink" title="ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«"></a>ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«</h2><p>è€ƒè™‘ 0-1 èƒŒåŒ…é—®é¢˜å’Œåˆ†æ•°èƒŒåŒ…é—®é¢˜ï¼Œæ˜¾ç„¶ï¼Œåè€…èƒ½å¤Ÿä½¿ç”¨è´ªå¿ƒç®—æ³•è§£å†³ï¼Œè€Œ 0-1 èƒŒåŒ…é—®é¢˜åˆ™åªèƒ½ä½¿ç”¨åŠ¨æ€è§„åˆ’ã€‚</p>
<h1 id="KMPç®—æ³•"><a href="#KMPç®—æ³•" class="headerlink" title="KMPç®—æ³•"></a>KMPç®—æ³•</h1><p>ç»å…¸çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ã€‚ä½†å®ç°èµ·æ¥å¹¶ä¸å¤æ‚ã€‚<br>é¦–å…ˆä¸€ä¸ªæ¦‚å¿µæ˜¯ï¼š</p>
<h2 id="éƒ¨åˆ†åŒ¹é…è¡¨-The-Partial-Match-Table"><a href="#éƒ¨åˆ†åŒ¹é…è¡¨-The-Partial-Match-Table" class="headerlink" title="éƒ¨åˆ†åŒ¹é…è¡¨ The Partial Match Table"></a>éƒ¨åˆ†åŒ¹é…è¡¨ The Partial Match Table</h2><p>å‚è€ƒè¿™ç¯‡åšæ–‡ï¼š<a target="_blank" rel="noopener" href="http://jakeboxer.com/blog/2009/12/13/the-knuth-morris-pratt-algorithm-in-my-own-words/">The Knuth-Morris-Pratt Algorithm</a><br>å½“å¼„æ¸…æ¥šäº†ä»€ä¹ˆæ˜¯éƒ¨åˆ†åŒ¹é…è¡¨ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ€ä¹ˆä½¿ç”¨å®ƒï¼Œåœ¨åŒ¹é…å¤±è´¥çš„æ—¶å€™è¿›è¡Œé€‚å½“çš„è·³è·ƒã€‚<br>ä½¿ç”¨å‚è€ƒè¿™éƒ¨åˆ†å†…å®¹<a target="_blank" rel="noopener" href="https://blog.csdn.net/v_july_v/article/details/7041827">ä»å¤´åˆ°å°¾å½»åº•ç†è§£KMP</a></p>
<p>æœ€åç»™å‡ºä¸€ä¸ª<a target="_blank" rel="noopener" href="https://blog.csdn.net/biaobiaoqi/article/details/8975536">å®ç°</a></p>
<h1 id="è·³è¡¨"><a href="#è·³è¡¨" class="headerlink" title="è·³è¡¨"></a>è·³è¡¨</h1><h2 id="ç®—æ³•-amp-æ•°æ®ç»“æ„"><a href="#ç®—æ³•-amp-æ•°æ®ç»“æ„" class="headerlink" title="ç®—æ³• &amp; æ•°æ®ç»“æ„"></a>ç®—æ³• &amp; æ•°æ®ç»“æ„</h2><p>$$ç¨‹åº &#x3D; ç®—æ³• + æ•°æ®ç»“æ„$$<br>TAOCPä¸­ï¼ŒDonaldå¹¶æ²¡æœ‰ç›´æ¥ç»™å‡ºâ€œç®—æ³•â€çš„å®šä¹‰ï¼Œè€Œæ˜¯åœ¨ç”¨äº†å‡ é¡µçš„ç¯‡å¹…è¿½æº¯äº†ä¸€ç•ªâ€œAlgorithmsâ€è¿™ä¸ªè¯çš„èµ·æºä»¥å°è¯•è®©è¯»è€…ç†è§£å®ƒçš„å«ä¹‰ä¹‹åï¼Œç”¨äº†æ¬§å‡ é‡Œå¾—æ±‚è§£ä¸¤ä¸ªæ­£æ•´æ•°æœ€å¤§å…¬å› å­çš„ä¾‹å­åšé˜è¿°ï¼š<br><img src="/2018/03/29/algs/Euclid-algorithm.png" alt="æ¬§å‡ é‡Œå¾—ç®—æ³•" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/Euclid-algorithm.png" class="lozad post-image"><br>å…¶ä¸­æœ€é‡è¦çš„æ˜¯â†’ï¼Œèµ‹å€¼&#x2F;ä»£æ›¿ã€‚<br>ä»–çš„å­¦ç”Ÿã€çº¢çš®ç®—æ³•ä¹¦çš„ä½œè€…-Robert Sedgewickæ²¿ç”¨è¿™ä¸ªä¾‹å­å¹¶å°è¯•ç»™å‡ºäº†ä¸€ä¸ªå®šä¹‰ï¼šThe term algorithm is used in computer science to describe a <strong>finite</strong>, <strong>deterministic</strong>, and <strong>effective</strong> problem-solving method suitable for implementation as a computer program.<br>åŒæ—¶æŒ‡å‡ºäº†äºŒè€…ä¹‹é—´çš„å…³ç³»ï¼šå¤§å¤šæ•°ç®—æ³•éœ€è¦é€‚å½“åœ°ç»„ç»‡æ•°æ®ï¼Œ<strong>ä¸ºäº†ç»„ç»‡æ•°æ®å°±äº§ç”Ÿäº†æ•°æ®ç»“æ„</strong>ã€‚ä¸€è„‰ç›¸æ‰¿çš„è§‚ç‚¹æ˜¯ï¼Œæ•°æ®ç»“æ„æ˜¯ç®—æ³•çš„å‰¯äº§å“&#x2F;ç»“æœï¼ˆdata structures exist as the byproducts or end products of algorithmsï¼‰ã€‚</p>
<details>
  <summary>æ•°æ®ç»“æ„çš„ä½œç”¨</summary>

<h2 id="æ•°æ®ç»“æ„çš„ä½œç”¨"><a href="#æ•°æ®ç»“æ„çš„ä½œç”¨" class="headerlink" title="æ•°æ®ç»“æ„çš„ä½œç”¨"></a>æ•°æ®ç»“æ„çš„ä½œç”¨</h2><p>å‰é¢è¯´ç®—æ³•éœ€è¦ç»„ç»‡æ•°æ®ï¼Œæ‰€è°“ç»„ç»‡ï¼Œå…¶å®å°±æ˜¯æ“ä½œï¼ˆå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼‰ã€‚æœ‰å…³æ•°æ®ç»“æ„å’Œç®—æ³•çš„è¯¾ç¨‹å¯¹ä¸­æ‰€æ¶‰åŠåˆ°çš„æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ï¼›ä»¥åŠä»¥å‰é¢ä¸¤è€…ä¸ºåŸºç¡€çš„é«˜çº§æ•°æ®ç»“æ„ï¼šå †ã€æ ‘ã€å›¾ï¼›å»¶å±•å¼€åˆ°ç‰¹å®šé¢†åŸŸ&#x2F;æ–¹å‘ä¸Šä¼˜åŒ–çš„æ•°æ®ç»“æ„ï¼šå„ç§é˜Ÿåˆ—ï¼Œçº¢é»‘æ ‘ï¼ŒBã€B+æ ‘ï¼Œæ‹“æ‰‘å›¾ç­‰ç­‰ã€‚<br>æ‰€æœ‰çš„æ•°æ®ç»“æ„çš„ç›®çš„éƒ½æ˜¯åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œä¼˜åŒ–æ•°æ®çš„æ“ä½œæ•ˆç‡ã€‚å¯ä»¥ç”¨ç®—æ³•ä¹¦ç»™çš„demoè·‘ä¸€éåå‡ æ¡æ’åºç®—æ³•çš„æ•ˆç‡ï¼Œä¾¿èƒ½ç›´è§‚æ„Ÿå—åˆ°ï¼Œå³ä½¿åœ¨ç°åœ¨è¿™æ ·é«˜æ€§èƒ½çš„è®¡ç®—æœºé¢å‰ï¼Œ$n^2$ â†’ $n\log(n)$æ‰€å¸¦æ¥å·¨å¤§æ•ˆç‡çš„æå‡ï¼›è€Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œé‡‡ç”¨ä½å›¾ã€$O(n)$å¤æ‚åº¦çš„æ’åºç®—æ³•æ‰€èƒ½å¸¦æ¥çš„æ›´å¯è§‚çš„ç©ºé—´ã€æ—¶é—´ä¸Šçš„èŠ‚çœã€‚<br>ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬æœŸå¾…çš„æ•°æ®ç»“æ„æ˜¯ï¼šåœ¨ä¿æŒâ€œæœ‰åºâ€çš„å‰æä¸‹ï¼Œæ»¡è¶³é«˜æ•ˆçš„å¢ã€åˆ ã€æŸ¥æ“ä½œã€‚å…¶ä¸­â€œæœ‰åºâ€æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µï¼Œå †ã€å•ç«¯&#x2F;åŒç«¯é˜Ÿåˆ—ã€æŸ¥æ‰¾æ ‘ã€æ‹“æ‰‘å›¾ç­‰ï¼Œéƒ½æ»¡è¶³ä»¥æˆ‘ä»¬æ‰€æœŸå¾…çš„æ–¹å¼çš„æœ‰åºæ€§ã€æˆ–è€…æˆ‘ä»¬æ‰€å…³å¿ƒçš„é‚£éƒ¨åˆ†æ•°æ®çš„æœ‰åºæ€§ã€‚</p>
</details>

<h2 id="å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨"><a href="#å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨" class="headerlink" title="å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨"></a>å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨</h2><p>è¿™é‡Œå…³æ³¨K-Vå‹æ•°æ®ç»“æ„ã€‚</p>
<h3 id="åˆé€‚çš„æ•°æ®ç»“æ„"><a href="#åˆé€‚çš„æ•°æ®ç»“æ„" class="headerlink" title="åˆé€‚çš„æ•°æ®ç»“æ„"></a>åˆé€‚çš„æ•°æ®ç»“æ„</h3><p>å…³æ³¨ä»¥ä¸‹é€ŸæŸ¥è¡¨æ•°æ®ã€‚<br><img src="/2018/03/29/algs/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E6%9D%82%E5%BA%A6.png" alt="æ•°æ®ç»“æ„å¤æ‚åº¦" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E6%9D%82%E5%BA%A6.png" class="lozad post-image"><br>å…¶ä¸­ï¼Œå¸¸ç”¨çš„key-valueæ•°æ®ç»“æ„æœ‰ä¸‰ç§ï¼š<br>Hashè¡¨ï¼šæ’å…¥ã€æŸ¥æ‰¾æœ€å¿«ï¼Œä¸º$O(1)$ï¼›å¦‚ä½¿ç”¨é“¾è¡¨å®ç°åˆ™å¯å®ç°æ— é”ï¼›æ•°æ®æœ‰åºåŒ–éœ€è¦æ˜¾å¼çš„æ’åºæ“ä½œã€‚<br>çº¢é»‘æ ‘ï¼šæ’å…¥ã€æŸ¥æ‰¾ä¸º$\log(n)$ï¼Œä½†å¸¸æ•°é¡¹è¾ƒå°ï¼›æ— é”å®ç°çš„å¤æ‚æ€§å¾ˆé«˜ï¼Œä¸€èˆ¬éœ€è¦åŠ é”ï¼›æ•°æ®å¤©ç„¶æœ‰åºã€‚<br>SkipListï¼šæ’å…¥ã€æŸ¥æ‰¾ä¸º$\log(n)$ï¼Œä½†å¸¸æ•°é¡¹æ¯”çº¢é»‘æ ‘è¦å¤§ï¼›åº•å±‚ç»“æ„ä¸ºé“¾è¡¨ï¼Œå¯æ— é”å®ç°ï¼›æ•°æ®å¤©ç„¶æœ‰åºã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œå¦‚æœèƒ½ç¡®å®šæŸäº›æ•°æ®æ˜¯é™æ€çš„ï¼Œä»¥ACAä¸ºä¾‹ï¼Œæˆ‘ä»¬çš„æ–‡æ¡ˆæ•°æ®ç›®å‰å°±å¯ä»¥çœ‹æˆæ˜¯é™æ€çš„ï¼šå¯èƒ½æœ‰æè¿°ä¸Šçš„è°ƒæ•´ï¼Œä½†é¢‘æ¬¡å¾ˆä½ï¼Œå¹¶ä¸”æ•°æ®é‡ä¸å¤§ã€‚è¿™éƒ¨åˆ†æ•°æ®å¦‚æœé‡‡ç”¨ç›´æ¥åŠ è½½åˆ°å†…å­˜æˆ–æ˜¯ä¸­é—´ç¼“å­˜çš„è¯ï¼Œç»“æ„åŒ–ä¸ºHashMapæ˜¯ä¸é”™çš„é€‰æ‹©ï¼›</li>
<li>å¦‚å‰æ‰€è¿°ï¼Œå¤§éƒ¨åˆ†æ•°æ®æ“ä½œåœºæ™¯æ˜¯éœ€è¦å¢åˆ æ”¹æ“ä½œçš„ï¼Œè€Œéä»…ä»…åªæœ‰è¯»æ“ä½œã€‚è¿™é‡Œä¸å†è®¨è®ºå †ã€é˜Ÿåˆ—ç­‰ä½¿ç”¨åœºæ™¯ï¼Œä¸“æ³¨é€šå¸¸æƒ…å†µä¸‹çš„<strong>æ•°æ®çš„å­˜å–æ“ä½œ</strong>ï¼Œæ­¤æ—¶éœ€è¦å…¼é¡¾è¯»å–ã€å’Œæ“ä½œåæ¢å¤æœ‰åºçš„æ•ˆç‡ï¼Œæ­¤æ—¶Hashè¡¨ä¸å†æ˜¯å¥½çš„é€‰æ‹©ï¼šè¿­ä»£ã€ä¿®æ”¹æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œè€Œçº¢é»‘æ ‘åˆ™èƒ½å¾ˆå¥½åœ°æ»¡è¶³åŠŸèƒ½éœ€æ±‚ï¼›</li>
</ul>
<h2 id="ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨"><a href="#ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨" class="headerlink" title="ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨"></a>ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨</h2><p>ä½œä¸ºå¹³è¡¡æ ‘çš„ä¸€ç§æ›¿ä»£å®ç°ï¼Œè·³è¡¨ä¸»è¦æ‹¥æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><p><strong>æ›´ç®€å•çš„å®ç°</strong><br>çº¢é»‘æ ‘å¢åˆ æ”¹å…ƒç´ éœ€è¦è¿›è¡Œæ—‹è½¬ã€å˜è‰²ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è€ƒè™‘çš„ç»†èŠ‚ä¹Ÿæ¯”è¾ƒå¤šï¼Œåˆ°äº†å¹¶å‘åœºæ™¯ä¸‹æ›´éš¾ä»¥å†™å‡ºå¯ç”¨ä¸”é«˜æ•ˆçš„çº¢é»‘æ ‘å®ç°ï¼›è€Œè·³è¡¨å®ç°åŸç†ç›¸å½“ç®€å•ï¼Œå°±æ˜¯å‡çº§ç‰ˆçš„é“¾è¡¨ï¼ŒæŠŠé“¾è¡¨çš„æŸä¸€äº›å…ƒç´ éšæœºæŠ½å‡ºæ¥å†ç»„æˆä¸€ä¸ªé“¾è¡¨ï¼Œä½œä¸ºä¸€çº§ç´¢å¼•ï¼Œåœ¨è¯¥ç´¢å¼•é›†ä¸­å†æ¬¡è¿›è¡ŒæŠ½å–ï¼Œå†åšä¸€çº§ç´¢å¼•ï¼Œä¾æ¬¡å®ç°å¤šçº§é“¾è¡¨ç´¢å¼•ï¼Œå°±ç»„æˆäº†ä¸€ä¸ªè·³è¡¨ã€‚</p>
</li>
<li><p><strong>ä¸ºäº†è§£å†³åœ¨é«˜å¹¶å‘ä¸‹ï¼Œçº¢é»‘æ ‘çš„é”å®ç°å¯¼è‡´çš„å¯èƒ½çš„æ­»é”å’Œå¹¶å‘åº¦é™ä½é—®é¢˜</strong>ã€‚<br>é¦–å…ˆè¿™å¥è¯æ„å‘³ç€ï¼Œåœ¨å•çº¿ç¨‹ã€ä½çº¿ç¨‹æ•°åœºæ™¯ä¸‹ï¼Œçº¢é»‘æ ‘å¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼šä»¥jdk11ä¸ºä¾‹ï¼ŒConcurrentHashMapå­˜å–é€Ÿåº¦æ˜¯ConcurrentSkipListMapçš„4å€å·¦å³ï¼Œè€Œéšç€å¹¶å‘çš„çº¿ç¨‹æ•°å¢å¤šï¼Œåè€…çš„æ€§èƒ½ä¼˜åŠ¿ä¼šé€æ¸ä½“ç°å‡ºæ¥ï¼Œå®ƒçš„å­˜å–æ—¶é—´å¤æ‚åº¦å‡ ä¹å’Œçº¿ç¨‹æ•°æ— å…³ï¼Œä¸”æ— é”å¼€é”€ã€‚</p>
</li>
</ul>
<h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><p>ä¸Šè¿°å¯è§è·³è¡¨ä¹Ÿæ˜¯ä¸€ç§å…¸å‹çš„â€œç©ºé—´æ¢æ—¶é—´â€çš„æ•°æ®ç»“æ„ã€‚å…¶åº•å±‚é‡‡ç”¨äºŒç»´é“¾è¡¨ï¼Œè€Œéé€šå¸¸é‡‡ç”¨çš„æ•°ç»„å®ç°ã€‚åŸºæœ¬ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç”±å¾ˆå¤šå±‚ç»“æ„ç»„æˆï¼›</li>
<li>æ¯ä¸€å±‚éƒ½æ˜¯ä¸€ä¸ªæœ‰åºçš„é“¾è¡¨ï¼›</li>
<li>æœ€åº•å±‚(Level 1)çš„é“¾è¡¨åŒ…å«æ‰€æœ‰å…ƒç´ ï¼›</li>
<li>å¦‚æœä¸€ä¸ªå…ƒç´ å‡ºç°åœ¨ Level i çš„é“¾è¡¨ä¸­ï¼Œåˆ™å®ƒåœ¨ Level i ä¹‹ä¸‹çš„é“¾è¡¨ä¹Ÿéƒ½ä¼šå‡ºç°ï¼›</li>
<li>æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘åŒä¸€é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹é¢ä¸€å±‚çš„å…ƒç´ ã€‚<br><img src="/2018/03/29/algs/Skip_list.svg" alt="è·³è¡¨ç»“æ„" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/Skip_list.svg" class="lozad post-image"></li>
</ul>
<h2 id="è·³è¡¨å®ç°"><a href="#è·³è¡¨å®ç°" class="headerlink" title="è·³è¡¨å®ç°"></a>è·³è¡¨å®ç°</h2><h3 id="æ„é€ "><a href="#æ„é€ " class="headerlink" title="æ„é€ "></a>æ„é€ </h3><p>è€ƒè™‘ä¸€ä¸ªé“¾è¡¨ï¼š<br><img src="/2018/03/29/algs/skipList%E6%9E%84%E9%80%A0-1.jpg" alt="è·³è¡¨æ„é€ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/skipList%E6%9E%84%E9%80%A0-1.jpg" class="lozad post-image"><br>ä»è¯¥æœ‰åºè¡¨ä¸­æœç´¢å…ƒç´ &lt; 23, 43, 59&gt;ï¼Œéœ€è¦æ¯”è¾ƒçš„æ¬¡æ•°åˆ†åˆ«ä¸º&lt; 2, 4, 6 &gt;ï¼Œæ€»å…±æ¯”è¾ƒçš„æ¬¡æ•°ä¸º 2 + 4 + 6 &#x3D; 12 æ¬¡ã€‚<br>æœ‰æ²¡æœ‰ä¼˜åŒ–çš„ç®—æ³•ï¼Ÿé“¾è¡¨æ˜¯æœ‰åºçš„ï¼Œä½†ä¸èƒ½ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚ç±»ä¼¼äºŒå‰æœç´¢æ ‘ï¼Œæˆ‘ä»¬æŠŠä¸€äº›èŠ‚ç‚¹æå–å‡ºæ¥ï¼Œä½œä¸ºç´¢å¼•ã€‚å¾—åˆ°å¦‚ä¸‹ç»“æ„ï¼š<br><img src="/2018/03/29/algs/skipList%E6%9E%84%E9%80%A0-2.jpg" alt="è·³è¡¨æ„é€ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/skipList%E6%9E%84%E9%80%A0-2.jpg" class="lozad post-image"><br>è¿™é‡ŒæŠŠ&lt; 14, 34, 50, 72 &gt;æå–å‡ºæ¥ä½œä¸ºä¸€çº§ç´¢å¼•ï¼Œè¿™æ ·æœç´¢çš„æ—¶å€™å°±å¯ä»¥å‡å°‘æ¯”è¾ƒæ¬¡æ•°äº†ã€‚è¿˜å¯ä»¥å†ä»ä¸€çº§ç´¢å¼•æå–ä¸€äº›å…ƒç´ å‡ºæ¥ï¼Œä½œä¸ºäºŒçº§ç´¢å¼•ï¼Œå˜æˆå¦‚ä¸‹ç»“æ„ï¼š<br><img src="/2018/03/29/algs/skipList%E6%9E%84%E9%80%A0-3.jpg" alt="è·³è¡¨æ„é€ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/skipList%E6%9E%84%E9%80%A0-3.jpg" class="lozad post-image"></p>
<details>
  <summary>èŠ‚ç‚¹ç±»</summary>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">final</span> <span class="token class-name">K</span> key<span class="token punctuation">;</span> <span class="token comment">// currently, never detached</span>
    <span class="token class-name">V</span> val<span class="token punctuation">;</span>
    <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> next<span class="token punctuation">;</span>
    <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">,</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> next<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>redis ä½¿ç”¨Cå®ç°ï¼Œè¯¦è§ï¼š<a target="_blank" rel="noopener" href="https://github.com/antirez/redis/blob/unstable/src/server.h">https://github.com/antirez/redis/blob/unstable/src/server.h</a></p>
</details>

<h3 id="æœç´¢å…ƒç´ "><a href="#æœç´¢å…ƒç´ " class="headerlink" title="æœç´¢å…ƒç´ "></a>æœç´¢å…ƒç´ </h3><p>æŸ¥æ‰¾å…ƒç´  117ï¼š<br><img src="/2018/03/29/algs/skipList%E6%9F%A5%E6%89%BE.jpg" alt="è·³è¡¨æ„é€ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/skipList%E6%9F%A5%E6%89%BE.jpg" class="lozad post-image"></p>
<ol>
<li>æ¯”è¾ƒ21ï¼Œæ¯” 21 å¤§ï¼Œå¾€åé¢æ‰¾</li>
<li>æ¯”è¾ƒ37ï¼Œæ¯” 37å¤§ï¼Œæ¯”é“¾è¡¨æœ€å¤§å€¼å°ï¼Œä» 37 çš„ä¸‹é¢ä¸€å±‚å¼€å§‹æ‰¾</li>
<li>æ¯”è¾ƒ71ï¼Œæ¯” 71 å¤§ï¼Œæ¯”é“¾è¡¨æœ€å¤§å€¼å°ï¼Œä» 71 çš„ä¸‹é¢ä¸€å±‚å¼€å§‹æ‰¾</li>
<li>æ¯”è¾ƒ85ï¼Œæ¯” 85 å¤§ï¼Œä»åé¢æ‰¾</li>
<li>æ¯”è¾ƒ117ï¼Œç­‰äº 117ï¼Œ æ‰¾åˆ°äº†èŠ‚ç‚¹ã€‚</li>
</ol>
<details>
  <summary>æœç´¢</summary>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> <span class="token function">findNode</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// don't postpone errors</span>
    <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">K</span><span class="token punctuation">></span></span> cmp <span class="token operator">=</span> comparator<span class="token punctuation">;</span>
    <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> b<span class="token punctuation">;</span>
    outer<span class="token operator">:</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token function">findPredecessor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> n<span class="token punctuation">;</span> <span class="token class-name">K</span> k<span class="token punctuation">;</span> <span class="token class-name">V</span> v<span class="token punctuation">;</span> <span class="token keyword">int</span> c<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> b<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span> outer<span class="token punctuation">;</span>               <span class="token comment">// empty</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> n<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>                     <span class="token comment">// b is deleted</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>v <span class="token operator">=</span> n<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token function">unlinkNode</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// n is deleted</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token function">cpr</span><span class="token punctuation">(</span>cmp<span class="token punctuation">,</span> key<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                b <span class="token operator">=</span> n<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> n<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token keyword">break</span> outer<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>

<h3 id="æ–°å¢å…ƒç´ "><a href="#æ–°å¢å…ƒç´ " class="headerlink" title="æ–°å¢å…ƒç´ "></a>æ–°å¢å…ƒç´ </h3><p>å…ˆç¡®å®šè¯¥å…ƒç´ è¦å æ®çš„å±‚æ•° Kï¼ˆä¸¢ç¡¬å¸ï¼Œéšæœºï¼‰ï¼Œç„¶ååœ¨ Level 1 â€¦ Level K å„ä¸ªå±‚çš„é“¾è¡¨éƒ½æ’å…¥å…ƒç´ ï¼š<br>æ’å…¥ 119ï¼Œ K &#x3D; 2<br><img src="/2018/03/29/algs/skipList%E6%96%B0%E5%A2%9E-1.jpg" alt="è·³è¡¨-æ–°å¢å…ƒç´ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/skipList%E6%96%B0%E5%A2%9E-1.jpg" class="lozad post-image"><br>å…¶ä¸­ï¼Œç„¶éšæœºå˜é‡ K æ»¡è¶³å‚æ•°ä¸º $p &#x3D; 1&#x2F;2$ çš„å‡ ä½•åˆ†å¸ƒï¼ŒæœŸæœ›å€¼ $E[K] &#x3D; 1&#x2F;p &#x3D; 2$ã€‚å³å„ä¸ªå…ƒç´ çš„å±‚æ•°ï¼ŒæœŸæœ›å€¼æ˜¯ 2 å±‚ã€‚<br><img src="/2018/03/29/algs/Skip_list_add_element.gif" alt="è·³è¡¨-æ–°å¢å…ƒç´ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/Skip_list_add_element.gif" class="lozad post-image"></p>
<details>
  <summary>æ’å…¥</summary>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token class-name">V</span> <span class="token function">doPut</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">,</span> <span class="token keyword">boolean</span> onlyIfAbsent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">K</span><span class="token punctuation">></span></span> cmp <span class="token operator">=</span> comparator<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> h<span class="token punctuation">;</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> b<span class="token punctuation">;</span>
        <span class="token class-name">VarHandle</span><span class="token punctuation">.</span><span class="token function">acquireFence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> levels <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token comment">// number of levels descended</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>h <span class="token operator">=</span> head<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// try to initialize</span>
            <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> base <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b <span class="token operator">=</span> <span class="token punctuation">(</span>HEAD<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> base <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> q <span class="token operator">=</span> h<span class="token punctuation">,</span> r<span class="token punctuation">,</span> d<span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// count while descending</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">=</span> q<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> p<span class="token punctuation">;</span> <span class="token class-name">K</span> k<span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> r<span class="token punctuation">.</span>node<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token punctuation">(</span>k <span class="token operator">=</span> p<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
                        p<span class="token punctuation">.</span>val <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                        RIGHT<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> r<span class="token punctuation">,</span> r<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">cpr</span><span class="token punctuation">(</span>cmp<span class="token punctuation">,</span> key<span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                        q <span class="token operator">=</span> r<span class="token punctuation">;</span>
                    <span class="token keyword">else</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>d <span class="token operator">=</span> q<span class="token punctuation">.</span>down<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token operator">++</span>levels<span class="token punctuation">;</span>
                    q <span class="token operator">=</span> d<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                    b <span class="token operator">=</span> q<span class="token punctuation">.</span>node<span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> z <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>              <span class="token comment">// new node, if inserted</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                       <span class="token comment">// find insertion point</span>
                <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> n<span class="token punctuation">,</span> p<span class="token punctuation">;</span> <span class="token class-name">K</span> k<span class="token punctuation">;</span> <span class="token class-name">V</span> v<span class="token punctuation">;</span> <span class="token keyword">int</span> c<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> b<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>       <span class="token comment">// if empty, type check key now</span>
                        <span class="token function">cpr</span><span class="token punctuation">(</span>cmp<span class="token punctuation">,</span> key<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    c <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> n<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>                   <span class="token comment">// can't append; restart</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>v <span class="token operator">=</span> n<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token function">unlinkNode</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token function">cpr</span><span class="token punctuation">(</span>cmp<span class="token punctuation">,</span> key<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                    b <span class="token operator">=</span> n<span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
                         <span class="token punctuation">(</span>onlyIfAbsent <span class="token operator">||</span> VAL<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> v<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">return</span> v<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
                    NEXT<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> n<span class="token punctuation">,</span>
                                       p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    z <span class="token operator">=</span> p<span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>z <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">int</span> lr <span class="token operator">=</span> <span class="token class-name">ThreadLocalRandom</span><span class="token punctuation">.</span><span class="token function">nextSecondarySeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>lr <span class="token operator">&amp;</span> <span class="token number">0x3</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token comment">// add indices with 1/4 prob</span>
                    <span class="token keyword">int</span> hr <span class="token operator">=</span> <span class="token class-name">ThreadLocalRandom</span><span class="token punctuation">.</span><span class="token function">nextSecondarySeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">long</span> rnd <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>hr <span class="token operator">&lt;&lt;</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>lr <span class="token operator">&amp;</span> <span class="token number">0</span>xffffffffL<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> skips <span class="token operator">=</span> levels<span class="token punctuation">;</span>      <span class="token comment">// levels to descend before add</span>
                    <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>               <span class="token comment">// create at most 62 indices</span>
                        x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>rnd <span class="token operator">>=</span> <span class="token number">0L</span> <span class="token operator">||</span> <span class="token operator">--</span>skips <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token keyword">else</span>
                            rnd <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">addIndices</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> skips<span class="token punctuation">,</span> x<span class="token punctuation">,</span> cmp<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> skips <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
                        head <span class="token operator">==</span> h<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token comment">// try to add new level</span>
                        <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> hx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> nh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Index</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>node<span class="token punctuation">,</span> h<span class="token punctuation">,</span> hx<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        HEAD<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> h<span class="token punctuation">,</span> nh<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>z<span class="token punctuation">.</span>val <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>       <span class="token comment">// deleted while adding indices</span>
                        <span class="token function">findPredecessor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// clean</span>
                <span class="token punctuation">&#125;</span>
                <span class="token function">addCount</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>


<h3 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h3><p>é‡‡ç”¨æ ‡å‡†çš„é“¾è¡¨åˆ é™¤å³å¯ã€‚<br>åˆ é™¤ 71<br><img src="/2018/03/29/algs/skipList%E5%88%A0%E9%99%A4.jpg" alt="è·³è¡¨-æ–°å¢å…ƒç´ " srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="/2018/03/29/algs/skipList%E5%88%A0%E9%99%A4.jpg" class="lozad post-image"></p>
<details>
  <summary>åˆ é™¤</summary>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token class-name">V</span> <span class="token function">doRemove</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">K</span><span class="token punctuation">></span></span> cmp <span class="token operator">=</span> comparator<span class="token punctuation">;</span>
    <span class="token class-name">V</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> b<span class="token punctuation">;</span>
    outer<span class="token operator">:</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token function">findPredecessor</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span>
                  result <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> n<span class="token punctuation">;</span> <span class="token class-name">K</span> k<span class="token punctuation">;</span> <span class="token class-name">V</span> v<span class="token punctuation">;</span> <span class="token keyword">int</span> c<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> b<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span> outer<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> n<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>v <span class="token operator">=</span> n<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token function">unlinkNode</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token function">cpr</span><span class="token punctuation">(</span>cmp<span class="token punctuation">,</span> key<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                b <span class="token operator">=</span> n<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span> outer<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>value<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span> outer<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>VAL<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> v<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                result <span class="token operator">=</span> v<span class="token punctuation">;</span>
                <span class="token function">unlinkNode</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// loop to clean up</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">tryReduceLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addCount</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>

<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><ol>
<li><p>jdkä»1.6å¼€å§‹å¼•å…¥äº†ä¸¤ä¸ªè·³è¡¨ç›¸å…³çš„å®ç°ç±»ï¼šConcurrentSkipListMapã€ConcurrentSkipListSetï¼ˆåŸºäºConcurrentSkipListMapï¼‰ï¼Œåœ¨jdkä¸­ä¸»è¦æ˜¯ç”¨äºé«˜å¹¶å‘åœºæ™¯ä¸‹ä»£æ›¿çº¢é»‘æ ‘çš„å®ç°ï¼Œä¸è¿‡ä»jdk8å¼€å§‹ï¼Œçº¿ç¨‹å®‰å…¨çš„Hashè¡¨ï¼šConcurrentHashMapé‡‡ç”¨äº†CASã€å–æ¶ˆåˆ†æ®µé”æ”¹ç”¨å¤§æ•°ç»„ã€å“ˆå¸Œç¢°æ’è¶…è¿‡é˜ˆå€¼æ—¶æ ‘åŒ–ï¼ˆçº¢é»‘æ ‘ï¼‰ç­‰æ‰‹æ®µè¿›ä¸€æ­¥æå‡äº†çº¿ç¨‹å®‰å…¨Hashè¡¨ç›¸å…³å®ç°ï¼Œæ€§èƒ½ä¸Šä¹Ÿæœ‰äº†å¾ˆå¤§æå‡ã€‚</p>
</li>
<li><p>redisï¼šredisçš„æœ‰åºé›†åˆzsetæ˜¯é‡‡ç”¨è·³è¡¨å®ç°çš„ã€‚åˆ†æä¸€ä¸‹zsetæ‰€æ”¯æŒçš„æ“ä½œå°±ä¸éš¾ç†è§£ä¸ºå•¥é‡‡ç”¨è·³è¡¨è€Œéçº¢é»‘æ ‘äº†ï¼š</p>
</li>
</ol>
<ul>
<li>æ’å…¥å…ƒç´ </li>
<li>åˆ é™¤å…ƒç´ </li>
<li>æŸ¥æ‰¾å…ƒç´ </li>
<li>æœ‰åºè¾“å‡ºæ‰€æœ‰å…ƒç´ </li>
<li>æŸ¥æ‰¾åŒºé—´å†…æ‰€æœ‰å…ƒç´ <br>é™¤äº†æ˜“äºå®ç°è¿™ä¸ªå› ç´ å¤–ã€‚zsetæ‰€æ”¯æŒçš„æ“ä½œä¸­ï¼Œå‰4é¡¹çº¢é»‘æ ‘éƒ½å¯ä»¥å®Œæˆï¼Œä¸”æ—¶é—´å¤æ‚åº¦ä¸è·³è¡¨ä¸€è‡´ã€‚ä½†æ˜¯ï¼Œæœ€åä¸€é¡¹ï¼Œçº¢é»‘æ ‘çš„æ•ˆç‡å°±æ²¡æœ‰è·³è¡¨é«˜äº†ã€‚åœ¨è·³è¡¨ä¸­ï¼Œè¦æŸ¥æ‰¾åŒºé—´çš„å…ƒç´ ï¼Œæˆ‘ä»¬åªè¦å®šä½åˆ°ä¸¤ä¸ªåŒºé—´ç«¯ç‚¹åœ¨æœ€ä½å±‚çº§çš„ä½ç½®ï¼Œç„¶åæŒ‰é¡ºåºéå†å…ƒç´ å°±å¯ä»¥äº†ï¼Œéå¸¸é«˜æ•ˆã€‚è€Œçº¢é»‘æ ‘åªèƒ½å®šä½åˆ°ç«¯ç‚¹åï¼Œå†ä»é¦–ä½ç½®å¼€å§‹æ¯æ¬¡éƒ½è¦æŸ¥æ‰¾åç»§èŠ‚ç‚¹ï¼Œç›¸å¯¹æ¥è¯´æ˜¯æ¯”è¾ƒè€—æ—¶çš„ã€‚</li>
</ul>
<ol start="3">
<li><p>LevelDBï¼šGoogle å¼€æºçš„ key&#x2F;value å­˜å‚¨å¼•æ“ LevelDB ä»¥åŠ Facebook åŸºäº LevelDB ä¼˜åŒ–çš„ RocksDB éƒ½æ˜¯ LSM Tree ç»“æ„çš„æ•°æ®åº“ï¼Œå†…éƒ¨çš„ MemTable ä½¿ç”¨è·³è¡¨å®ç°ã€‚HBase MemStore å†…éƒ¨å­˜å‚¨æ•°æ®å°±ä½¿ç”¨çš„è·³è¡¨ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼ŸHBase å±äº LSM Tree ç»“æ„çš„æ•°æ®åº“ï¼ŒLSM Tree ç»“æ„çš„æ•°æ®åº“æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®æ—¶å†™å…¥çš„æ•°æ®å…ˆå†™å…¥åˆ°å†…å­˜ï¼Œå†…å­˜è¾¾åˆ°é˜ˆå€¼å¾€ç£ç›˜ flush çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆç±»ä¼¼äº StoreFile çš„æœ‰åºæ–‡ä»¶ï¼Œè€Œè·³è¡¨æ°å¥½å°±æ˜¯å¤©ç„¶æœ‰åºçš„ï¼Œæ‰€ä»¥åœ¨ flush çš„æ—¶å€™æ•ˆç‡å¾ˆé«˜ï¼Œè€Œä¸”è·³è¡¨æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ€§èƒ½éƒ½å¾ˆé«˜ï¼Œè¿™åº”è¯¥æ˜¯ HBase MemStore å†…éƒ¨å­˜å‚¨æ•°æ®ä½¿ç”¨è·³è¡¨çš„åŸå› ä¹‹ä¸€ã€‚HBase ä½¿ç”¨çš„æ˜¯ java.util.concurrent ä¸‹çš„ ConcurrentSkipListMap()ã€‚</p>
</li>
<li><p>ESï¼šLuceneæ ¸å¿ƒæ•°æ®ç»“æ„é‡‡ç”¨äº†è·³è¡¨å®ç°å€’æ’è¡¨ã€‚ä½¿ç”¨FSTä¿å­˜è¯å…¸ï¼ŒFSTå¯ä»¥å®ç°å¿«é€Ÿçš„Seekï¼Œè¿™ç§ç»“æ„åœ¨å½“æŸ¥è¯¢å¯ä»¥è¡¨è¾¾æˆè‡ªåŠ¨æœºæ—¶(PrefixQueryã€FuzzyQueryã€RegexpQueryç­‰)æ•ˆç‡å¾ˆé«˜ã€‚(å¯ä»¥ç†è§£æˆè‡ªåŠ¨æœºå–äº¤é›†)æ­¤ç§åœºæ™¯ä¸»è¦ç”¨åœ¨å¯¹Queryè¿›è¡Œrewriteçš„æ—¶å€™ã€‚FSTå¯ä»¥è¡¨è¾¾å‡ºTermå€’æ’è¡¨æ‰€åœ¨çš„æ–‡ä»¶åç§»ã€‚å€’æ’è¡¨ä½¿ç”¨SkipListç»“æ„ã€‚ä»ä¸Šé¢çš„è®¨è®ºå¯çŸ¥ï¼Œæ±‚å€’æ’è¡¨çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†éœ€è¦å„ç§SeekTo(docId)ï¼ŒSkipListèƒ½å¯¹Seekè¿›è¡ŒåŠ é€Ÿã€‚</p>
</li>
</ol>
<p>refï¼š<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/256511/skip-list-vs-binary-search-tree">https://stackoverflow.com/questions/256511/skip-list-vs-binary-search-tree</a><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Skip_list">https://en.wikipedia.org/wiki/Skip_list</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/sunxianghuang/article/details/52221913">https://blog.csdn.net/sunxianghuang/article/details/52221913</a><br><a target="_blank" rel="noopener" href="https://www.iteye.com/blog/imtinx-1291165">https://www.iteye.com/blog/imtinx-1291165</a><br>ã€Šalgorithmsã€‹<br>ã€Šthe art of computer programmingã€‹</p>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">ä½œè€…ï¼š</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            Neil
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">æ–‡ç« é“¾æ¥ï¼š</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://lazy-snail.github.io/2018/03/29/algs/">
            https://lazy-snail.github.io/2018/03/29/algs/
          </a>
        </p>
        <p><span style="font-weight: bold;">ç‰ˆæƒå£°æ˜ï¼š</span>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2018/06/03/spring/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">Prev</div>
          
            <div class="nav-title">spring </div>
          
        </div>
      </a>
    </div>
  
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#sort"><span class="toc-text">sort</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E7%BA%A7%E6%8E%92%E5%BA%8F"><span class="toc-text">åˆçº§æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-text">æ’å…¥æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-text">é€‰æ‹©æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-text">å¸Œå°”æ’åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E6%8E%92"><span class="toc-text">å¿«æ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%8E%92"><span class="toc-text">å †æ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">å½’å¹¶æ’åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F"><span class="toc-text">çº¿æ€§æ—¶é—´æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">è®¡æ•°æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">åŸºæ•°æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">æ¡¶æ’åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dp"><span class="toc-text">dp</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4"><span class="toc-text">è®¾è®¡æ­¥éª¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E5%92%8C%E9%80%82%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-text">åŸç†å’Œé€‚ç”¨æ¡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95%EF%BC%88greedy-algorithm%EF%BC%89"><span class="toc-text">è´ªå¿ƒç®—æ³•ï¼ˆgreedy algorithmï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">è®¾è®¡æ­¥éª¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%BD%E5%90%A6%E4%BD%BF%E7%94%A8%E8%B4%AA%E5%BF%83%E7%9A%84%E4%B8%A4%E4%B8%AA%E8%A6%81%E7%B4%A0"><span class="toc-text">èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E5%B7%AE%E5%88%AB"><span class="toc-text">ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#KMP%E7%AE%97%E6%B3%95"><span class="toc-text">KMPç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E5%8C%B9%E9%85%8D%E8%A1%A8-The-Partial-Match-Table"><span class="toc-text">éƒ¨åˆ†åŒ¹é…è¡¨ The Partial Match Table</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8"><span class="toc-text">è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-amp-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">ç®—æ³• &amp; æ•°æ®ç»“æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">æ•°æ®ç»“æ„çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81%E8%B7%B3%E8%A1%A8"><span class="toc-text">å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E9%80%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">åˆé€‚çš„æ•°æ®ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81%E6%9C%89%E8%B7%B3%E8%A1%A8"><span class="toc-text">ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">ç‰¹ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8%E5%AE%9E%E7%8E%B0"><span class="toc-text">è·³è¡¨å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0"><span class="toc-text">æ„é€ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%85%83%E7%B4%A0"><span class="toc-text">æœç´¢å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%85%83%E7%B4%A0"><span class="toc-text">æ–°å¢å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-text">åˆ é™¤å…ƒç´ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">é€‚ç”¨åœºæ™¯</span></a></li></ol></li></ol>
</div></main>
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="/img/little-prince.png" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">Neil</p>
<p class="author-description">there's a will there's a way</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>8</span>
    <span>Posts</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>6</span>
    <span>Categories</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>6</span>
    <span>Tags</span>
  </a>
</div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#sort"><span class="toc-text">sort</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E7%BA%A7%E6%8E%92%E5%BA%8F"><span class="toc-text">åˆçº§æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-text">æ’å…¥æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-text">é€‰æ‹©æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-text">å¸Œå°”æ’åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E6%8E%92"><span class="toc-text">å¿«æ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%8E%92"><span class="toc-text">å †æ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">å½’å¹¶æ’åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F"><span class="toc-text">çº¿æ€§æ—¶é—´æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">è®¡æ•°æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">åŸºæ•°æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">æ¡¶æ’åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dp"><span class="toc-text">dp</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4"><span class="toc-text">è®¾è®¡æ­¥éª¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E5%92%8C%E9%80%82%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-text">åŸç†å’Œé€‚ç”¨æ¡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95%EF%BC%88greedy-algorithm%EF%BC%89"><span class="toc-text">è´ªå¿ƒç®—æ³•ï¼ˆgreedy algorithmï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">è®¾è®¡æ­¥éª¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%BD%E5%90%A6%E4%BD%BF%E7%94%A8%E8%B4%AA%E5%BF%83%E7%9A%84%E4%B8%A4%E4%B8%AA%E8%A6%81%E7%B4%A0"><span class="toc-text">èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E5%B7%AE%E5%88%AB"><span class="toc-text">ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#KMP%E7%AE%97%E6%B3%95"><span class="toc-text">KMPç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E5%8C%B9%E9%85%8D%E8%A1%A8-The-Partial-Match-Table"><span class="toc-text">éƒ¨åˆ†åŒ¹é…è¡¨ The Partial Match Table</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8"><span class="toc-text">è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-amp-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">ç®—æ³• &amp; æ•°æ®ç»“æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">æ•°æ®ç»“æ„çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81%E8%B7%B3%E8%A1%A8"><span class="toc-text">å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E9%80%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">åˆé€‚çš„æ•°æ®ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81%E6%9C%89%E8%B7%B3%E8%A1%A8"><span class="toc-text">ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">ç‰¹ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8%E5%AE%9E%E7%8E%B0"><span class="toc-text">è·³è¡¨å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0"><span class="toc-text">æ„é€ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%85%83%E7%B4%A0"><span class="toc-text">æœç´¢å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%85%83%E7%B4%A0"><span class="toc-text">æ–°å¢å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-text">åˆ é™¤å…ƒç´ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">é€‚ç”¨åœºæ™¯</span></a></li></ol></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>Categories
  </div>
  <div class="categories-list">
    
      <a href="/categories/algs/">
        <div class="categories-list-item">
          algs
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/cn/">
        <div class="categories-list-item">
          cn
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/db/">
        <div class="categories-list-item">
          db
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/java/">
        <div class="categories-list-item">
          java
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/mw/">
        <div class="categories-list-item">
          mw
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/os/">
        <div class="categories-list-item">
          os
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>hot tags
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/java/" 
        title="java">
        <div class="tags-list-item">java</div>
      </a>
    
      <a 
        href="/tags/os/" 
        title="os">
        <div class="tags-list-item">os</div>
      </a>
    
      <a 
        href="/tags/mw/" 
        title="mw">
        <div class="tags-list-item">mw</div>
      </a>
    
      <a 
        href="/tags/db/" 
        title="db">
        <div class="tags-list-item">db</div>
      </a>
    
      <a 
        href="/tags/cn/" 
        title="cn">
        <div class="tags-list-item">cn</div>
      </a>
    
      <a 
        href="/tags/algs/" 
        title="algs">
        <div class="tags-list-item">algs</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#sort"><span class="toc-text">sort</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E7%BA%A7%E6%8E%92%E5%BA%8F"><span class="toc-text">åˆçº§æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-text">æ’å…¥æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-text">é€‰æ‹©æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-text">å¸Œå°”æ’åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E6%8E%92"><span class="toc-text">å¿«æ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%8E%92"><span class="toc-text">å †æ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">å½’å¹¶æ’åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F"><span class="toc-text">çº¿æ€§æ—¶é—´æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">è®¡æ•°æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-text">åŸºæ•°æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">æ¡¶æ’åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dp"><span class="toc-text">dp</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4"><span class="toc-text">è®¾è®¡æ­¥éª¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E5%92%8C%E9%80%82%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-text">åŸç†å’Œé€‚ç”¨æ¡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95%EF%BC%88greedy-algorithm%EF%BC%89"><span class="toc-text">è´ªå¿ƒç®—æ³•ï¼ˆgreedy algorithmï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">è®¾è®¡æ­¥éª¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%BD%E5%90%A6%E4%BD%BF%E7%94%A8%E8%B4%AA%E5%BF%83%E7%9A%84%E4%B8%A4%E4%B8%AA%E8%A6%81%E7%B4%A0"><span class="toc-text">èƒ½å¦ä½¿ç”¨è´ªå¿ƒçš„ä¸¤ä¸ªè¦ç´ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E5%B7%AE%E5%88%AB"><span class="toc-text">ä¸åŠ¨æ€è§„åˆ’çš„å·®åˆ«</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#KMP%E7%AE%97%E6%B3%95"><span class="toc-text">KMPç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E5%8C%B9%E9%85%8D%E8%A1%A8-The-Partial-Match-Table"><span class="toc-text">éƒ¨åˆ†åŒ¹é…è¡¨ The Partial Match Table</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8"><span class="toc-text">è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-amp-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">ç®—æ³• &amp; æ•°æ®ç»“æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">æ•°æ®ç»“æ„çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81%E8%B7%B3%E8%A1%A8"><span class="toc-text">å“ˆå¸Œã€çº¢é»‘æ ‘ã€è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E9%80%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">åˆé€‚çš„æ•°æ®ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81%E6%9C%89%E8%B7%B3%E8%A1%A8"><span class="toc-text">ä¸ºä»€ä¹ˆè¿˜è¦æœ‰è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">ç‰¹ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8%E5%AE%9E%E7%8E%B0"><span class="toc-text">è·³è¡¨å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0"><span class="toc-text">æ„é€ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%85%83%E7%B4%A0"><span class="toc-text">æœç´¢å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%85%83%E7%B4%A0"><span class="toc-text">æ–°å¢å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-text">åˆ é™¤å…ƒç´ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">é€‚ç”¨åœºæ™¯</span></a></li></ol></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>Recent Posts
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2018-06-03</div>
        <a href="/2018/06/03/cn/"><div class="recent-posts-item-content">cn</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2018-06-03</div>
        <a href="/2018/06/03/cs/"><div class="recent-posts-item-content">cs</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2018-06-03</div>
        <a href="/2018/06/03/db/"><div class="recent-posts-item-content">db</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2018-06-03</div>
        <a href="/2018/06/03/java/"><div class="recent-posts-item-content">java</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright Â©
          
            2017 -
          
          2022
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          æ‡’èœ—ç‰›
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
      <div class="footer-dsc">
        
        
        
      </div>
      
    
</footer> 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="å›åˆ°é¡¶éƒ¨">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="æ§åˆ¶ä¸­å¿ƒ">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="å¤œè‰²æ¨¡å¼">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="æœç´¢">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
      

  
  
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      };
    </script>
    
<script src="//cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js"></script>

  
 
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
    
      <script> 
        loadScript('/js/lib/busuanzi.min.js') 
      </script>
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
     
    
    
      <script>
        setTimeout(() => {localSearch("search.json")}, 0)
      </script>
    
  </body>
</html>
