<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="æ‡’æ‡’æ‡’èœ—ç‰›ğŸŒ">
  <link 
    rel="icon" 
    href="/img/little-prince.png">
  <title>String</title>
  
    
      <meta 
        property="og:title" 
        content="String">
    
    
      <meta 
        property="og:url" 
        content="https://lazy-snail.github.io/2018/04/26/java/SourceCode/String/index.html">
    
    
      <meta 
        property="og:img" 
        content="/img/little-prince.png">
    
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2018-04-26">
      <meta 
        property="og:article:modified_time" 
        content="2022-06-21">
      <meta 
        property="og:article:author" 
        content="Neil">
      
        
          <meta 
            property="og:article:tag" 
            content="java">
        
      
    
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
      
      
      
      
        
        
        
        <script>
          function prismThemeChange() {
            if(document.getElementById('theme-color').dataset.mode === 'dark') {
              if(document.querySelector('[data-prism]')) {
                changeCSS('/js/lib/prism/prism-tomorrow.min.css', '[data-prism]', 'prism-tomorrow');
              } else {
                loadCSS('/js/lib/prism/prism-tomorrow.min.css', 'prism', 'prism-tomorrow');
              }
            } else {
              if(document.querySelector('[data-prism]')) {
                changeCSS('/js/lib/prism/prism.min.css', '[data-prism]', 'prism');
              } else {
                loadCSS('/js/lib/prism/prism.min.css', 'prism', 'prism');
              }
            }
          }
          prismThemeChange()
        </script>
      
      
        
        <link rel="stylesheet" href="/js/lib/prism/prism-line-numbers.min.css">
      
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
        prismThemeChange();
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
        prismThemeChange();
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
        prismThemeChange();
      }
    };
    setDarkmode();
    </script>
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
    
    <link rel="prefetch" href="//cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js" as="script">
  
  
  
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
<meta name="generator" content="Hexo 6.1.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
        <img 
          class="navbar-logo-img"
          width="32"
          height="32"
          src="/img/little-prince.png" 
          alt="blog logo">
      
      <span class="navbar-logo-dsc">æ‡’èœ—ç‰›</span>
    </span>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          Home
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          Archive
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          Tags
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          Categories
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          About
        
      </a>
    
    <a 
      class="navbar-menu-item darknavbar" 
      id="dark">
      <i class="iconfont icon-weather"></i>
    </a>
    <a 
      class="navbar-menu-item searchnavbar" 
      id="search">
      <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i>
    </a>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <main class="main-column">
<article class="card card-content">
  <header>
    <h1 class="post-title">
      String
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2018-04-26T14:55:01.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2018-04-26</span>
    </time>
    
      <span class="dot"></span>
      
        <a 
          href="/categories/java/" 
          class="post-meta-link">
          java
        </a>
      
    
    
      <span class="dot"></span>
      <span>2.3k words</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/java/" 
            class="post-meta-link">
            java
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h3 id="x3D-x3D-vs-equals-æ¯”è¾ƒé—®é¢˜"><a href="#x3D-x3D-vs-equals-æ¯”è¾ƒé—®é¢˜" class="headerlink" title="&#x3D;&#x3D; vs equals() æ¯”è¾ƒé—®é¢˜"></a>&#x3D;&#x3D; vs equals() æ¯”è¾ƒé—®é¢˜</h3><p>java ä¸­ï¼Œequals()æ–¹æ³•è¢«è®¤ä¸ºæ˜¯å¯¹å¯¹è±¡çš„å€¼è¿›è¡Œæ·±å±‚æ¬¡çš„æ¯”è¾ƒï¼Œè€Œâ€œ&#x3D;&#x3D;â€æ˜¯è¿›è¡Œæµ…å±‚æ¬¡çš„æ¯”è¾ƒï¼š<br><strong>&#x3D;&#x3D;</strong></p>
<ul>
<li>å½“æ¯”è¾ƒå¯¹è±¡æ˜¯å€¼ç±»å‹ï¼ˆå¦‚åŸºæœ¬æ•°æ®ç±»å‹ï¼‰æ—¶ï¼Œå¯¹æ¯”çš„æ˜¯æ•°æ®çš„å€¼ï¼Œæ­¤æ—¶æ•ˆæœç­‰åŒäº equals()ï¼›</li>
<li>å½“æ¯”è¾ƒå¯¹è±¡æ˜¯å¯¹è±¡å¼•ç”¨æ—¶ï¼Œåªè¦å·¦å³ä¸¤è¾¹å¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œæ‰ä¸ºçœŸï¼Œå¦åˆ™ï¼Œå³ä½¿ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿä¸ºå‡ã€‚</li>
</ul>
<p><strong>equals()</strong><br>equals() æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ï¼Œç›¸åŒè¿”å›çœŸã€‚<br>åœ¨ String ä¸­ï¼ŒæŒ‰ç…§å¦‚ä¸‹é¡ºåºå·¥ä½œï¼ˆå…¶ä»–å¯¹è±¡ä¹Ÿç±»ä¼¼ï¼‰ï¼š</p>
<ol>
<li>æ¯”è¾ƒå¼•ç”¨ï¼Œå¦‚æœç›¸åŒï¼Œè¿”å› trueï¼›</li>
<li>æ¯”è¾ƒç±»å‹ï¼Œå¦‚æœç±»å‹ä¸åŒï¼Œè¿”å› falseï¼›</li>
<li>æ¯”è¾ƒé•¿åº¦ï¼Œä¸ç­‰æ—¶ï¼Œè¿”å› falseï¼›</li>
<li>é€å­—ç¬¦æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œé‡åˆ°ä¸åŒï¼Œè¿”å› falseï¼›</li>
<li>ä¸æ»¡è¶³ 2-4ï¼Œè¿”å› trueã€‚</li>
</ol>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œequals()æ˜¯åœ¨ Object ç±»ä¸­çš„ï¼Œè€Œ java ä¸­â€œä¸€åˆ‡çš†æ˜¯å¯¹è±¡â€ï¼Œæ‰€ä»¥ï¼Œå¦‚æœè¢«æ¯”è¾ƒçš„å¯¹è±¡æ²¡æœ‰è¦†ç›– Object ç±»ä¸­çš„ equals()çš„è¯ï¼Œå¿…ç„¶è¿”å›çœŸï¼Œè¿™ä¸äº‹å®å¯èƒ½ä¸ç¬¦ã€‚è€Œ String ç­‰ç±»å‹éƒ½å·²ç»é‡å†™äº† equals() æ–¹æ³•ã€‚<br>å¦å¤–ï¼Œjls è§„å®šäº† equals()éµå¾ªçš„å‡ ä¸ªè§„åˆ™ï¼š</p>
<ol>
<li>è‡ªåæ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ xï¼Œx.equals(x) éƒ½åº”è¿”å› trueã€‚</li>
<li>å¯¹ç§°æ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ x å’Œ yï¼Œå½“ä¸”ä»…å½“ y.equals(x) è¿”å› true æ—¶ï¼Œx.equals(y) æ‰åº”è¿”å› trueã€‚</li>
<li>ä¼ é€’æ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ xã€y å’Œ zï¼Œå¦‚æœ x.equals(y) è¿”å› trueï¼Œå¹¶ä¸” y.equals(z) è¿”å› trueï¼Œé‚£ä¹ˆ x.equals(z) åº”è¿”å› trueã€‚</li>
<li>ä¸€è‡´æ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ x å’Œ yï¼Œå¤šæ¬¡è°ƒç”¨ x.equals(y) å§‹ç»ˆè¿”å› true æˆ–å§‹ç»ˆè¿”å› falseï¼Œå‰ææ˜¯å¯¹è±¡ä¸Š equals æ¯”è¾ƒä¸­æ‰€ç”¨çš„ä¿¡æ¯æ²¡æœ‰è¢«ä¿®æ”¹ã€‚</li>
<li>å¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ xï¼Œx.equals(null) éƒ½åº”è¿”å› falseã€‚</li>
</ol>
<h3 id="å­—ç¬¦ä¸²å¸¸é‡æ± "><a href="#å­—ç¬¦ä¸²å¸¸é‡æ± " class="headerlink" title="å­—ç¬¦ä¸²å¸¸é‡æ± "></a>å­—ç¬¦ä¸²å¸¸é‡æ± </h3><p>å­—ç¬¦ä¸²çš„åˆ†é…ï¼Œå’Œå…¶ä»–çš„å¯¹è±¡åˆ†é…ä¸€æ ·ï¼Œè€—è´¹é«˜æ˜‚çš„æ—¶é—´ä¸ç©ºé—´ä»£ä»·ã€‚JVM ä¸ºäº†æé«˜æ€§èƒ½å’Œå‡å°‘å†…å­˜å¼€é”€ï¼Œåœ¨å®ä¾‹åŒ–å­—ç¬¦ä¸²å¸¸é‡çš„æ—¶å€™è¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–ã€‚ä¸ºäº†å‡å°‘åœ¨ JVM ä¸­åˆ›å»ºçš„å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œå­—ç¬¦ä¸²ç±»ç»´æŠ¤äº†ä¸€ä¸ªå­—ç¬¦ä¸²æ± ï¼Œæ¯å½“ä»£ç åˆ›å»ºå­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼ŒJVM ä¼šé¦–å…ˆæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚å¦‚æœå­—ç¬¦ä¸²å·²ç»å­˜åœ¨æ± ä¸­ï¼Œå°±è¿”å›æ± ä¸­çš„å®ä¾‹å¼•ç”¨ã€‚å¦‚æœå­—ç¬¦ä¸²ä¸åœ¨æ± ä¸­ï¼Œå°±ä¼šå®ä¾‹åŒ–ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶æ”¾åˆ°æ± ä¸­ã€‚Java èƒ½å¤Ÿè¿›è¡Œè¿™æ ·çš„ä¼˜åŒ–æ˜¯å› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå¯ä»¥ä¸ç”¨æ‹…å¿ƒæ•°æ®å†²çªè¿›è¡Œå…±äº«ã€‚è¿™æ˜¯ java èŠ‚çº¦èµ„æºçš„ä¸€ç§æ–¹å¼ã€‚ä» JVM è§’åº¦è®²ï¼Œå®ƒå±äºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± çš„ä¸€éƒ¨åˆ†ã€‚<br>å­—ç¬¦ä¸²å¸¸é‡æ€»æ˜¯æŒ‡å‘å­—ç¬¦ä¸²æ± ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œé€šè¿‡ new æ“ä½œç¬¦åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡ä¸æŒ‡å‘å­—ç¬¦ä¸²æ± ä¸­çš„ä»»ä½•å¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä½¿ç”¨å­—ç¬¦ä¸²çš„ intern() æ–¹æ³•æ¥æŒ‡å‘å…¶ä¸­çš„æŸä¸€ä¸ªã€‚<br>æœ‰ä¸¤ç§æ–¹å¼è¿›å…¥ String å¸¸é‡æ± ï¼š</p>
<ul>
<li>ç¼–è¯‘æœŸï¼šé€šè¿‡åŒå¼•å·å£°æ˜çš„å¸¸é‡ï¼ˆæ˜¾ç¤ºå£°æ˜ã€é™æ€ç¼–è¯‘ä¼˜åŒ–åçš„å¸¸é‡ç­‰ï¼‰ï¼ŒJIT ä¼˜åŒ–ä¹Ÿå¯èƒ½äº§ç”Ÿä¸€äº›ï¼›</li>
<li>è¿è¡ŒæœŸï¼šè°ƒç”¨ String çš„ intern()æ–¹æ³•ï¼Œå¯èƒ½ä¼šå°†è¯¥ String å¯¹è±¡åŠ¨æ€åœ°å†™å…¥ã€‚</li>
</ul>
<p>æ–¹å¼1 çš„è¡Œä¸ºæ˜¯æ˜ç¡®çš„ï¼Œä» class æ–‡ä»¶ç»“æ„ã€ç±»åŠ è½½ã€ç¼–è¯‘æœŸåŠè¿è¡ŒæœŸä¼˜åŒ–ç­‰è¿‡ç¨‹éƒ½å¯ä»¥å¾ˆæ˜ç¡®åœ°å¾—çŸ¥ã€‚è€Œæ–¹å¼2 åœ¨ä¸åŒ JDK ç”šè‡³æœ‰ä¸åŒè¡Œä¸ºã€‚</p>
<h3 id="ä¸¤ç§åˆ›å»ºæ–¹å¼"><a href="#ä¸¤ç§åˆ›å»ºæ–¹å¼" class="headerlink" title="ä¸¤ç§åˆ›å»ºæ–¹å¼"></a>ä¸¤ç§åˆ›å»ºæ–¹å¼</h3><p>æ³¨æ„åˆ°ä»¥ä¸‹ä»£ç ç»“æœï¼š</p>
<pre class="line-numbers language-java" data-language="java"><div class="caption"><span>Main.java</span></div><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s4 <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3 <span class="token operator">==</span> s4<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> output<span class="token operator">:</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token boolean">false</span>
<span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>s1ã€s2 æ˜¯ java æ ‡å‡†çš„å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡å°±ä¼šåœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶æŒ‡å‘å®ƒï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªç›¸åŒå†…å®¹çš„ String å¯¹è±¡å­˜å‚¨åœ¨å¸¸é‡æ± ä¸­ï¼Œå¦‚æœå¸¸é‡æ± å·²å­˜åœ¨åˆ™ä¸é‡å¤åˆ›å»ºï¼ˆäº‹å®ä¸Š String å¸¸é‡æ± åªä¿å­˜ä¸€ä»½ç›¸åŒå†…å®¹çš„Stringï¼‰ï¼›è€Œ s3ã€s4 åˆ™æ˜¯åœ¨æ ˆä¸­åˆ›å»ºå¯¹è±¡å¼•ç”¨å˜é‡ strï¼Œç„¶åæŸ¥çœ‹ String å¸¸é‡æ± ä¸­æ˜¯å¦å­˜åœ¨å«æœ‰è¯¥å†…å®¹çš„ String å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä»¤ str ç›´æ¥æŒ‡å‘å®ƒï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å…ˆåœ¨æ± ä¸­åˆ›å»ºè¯¥å­—ç¬¦ä¸²ï¼Œç„¶åä»¤ str æŒ‡å‘å®ƒã€‚è¿™æ ·å……åˆ†åˆ©ç”¨äº†æ ˆçš„æ•°æ®å…±äº«çš„ä¼˜ç‚¹ã€‚<br>æ•…ï¼Œs1 å’Œ s2 åˆ†åˆ«æŒ‡å‘ä¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ï¼Œs3 å’Œ s4 æŒ‡å‘çš„åˆ™æ˜¯åŒä¸€ä¸ªåœ°å€ã€‚è€ƒè™‘åˆ°å‰è¿°äº‹å®ï¼Œå¦‚æœç”¨ equals() æ¯”è¾ƒ s1 å’Œ s2 çš„è¯ï¼Œå°†è¿”å› trueã€‚</p>
<p>æ³¨æ„åˆ°ä»¥ä¸‹ä»£ç ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">"12"</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token string">"12"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s4 <span class="token operator">=</span> <span class="token string">"3"</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> s5 <span class="token operator">=</span> <span class="token string">"12"</span> <span class="token operator">+</span> <span class="token string">"3"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s6 <span class="token operator">=</span> s2 <span class="token operator">+</span> s4<span class="token punctuation">;</span>
        <span class="token class-name">String</span> s7 <span class="token operator">=</span> s3 <span class="token operator">+</span> s4<span class="token punctuation">;</span>
        <span class="token class-name">String</span> s8 <span class="token operator">=</span> s3 <span class="token operator">+</span> <span class="token string">"3"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s9 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"12"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"3"</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s5<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s6<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s7<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s8<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s9<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> output<span class="token operator">:</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token boolean">true</span>
<span class="token boolean">false</span>
<span class="token boolean">false</span>
<span class="token boolean">true</span>
<span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿™é‡Œå¼•å‡ºä»¥ä¸‹é—®é¢˜ï¼š</p>
<h3 id="å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•"><a href="#å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•"></a>å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•</h3><p><strong>append()æ–¹æ³•ï¼ˆStringBuilder&#x2F;StringBufferï¼‰</strong><br>æºç ï¼ˆæ‰‹åŠ¨æ·»åŠ æ³¨é‡Šï¼‰ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">AbstractStringBuilder</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">appendNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¿½åŠ åçš„å­—ç¬¦æ•°ç»„é•¿åº¦æ˜¯å¦è¶…è¿‡å½“å‰å€¼</span>
    <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span>count <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¤åˆ¶åˆ°ç›®æ ‡æ•°ç»„</span>
    str<span class="token punctuation">.</span><span class="token function">getChars</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> value<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    count <span class="token operator">+=</span> len<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">private</span> <span class="token class-name">AbstractStringBuilder</span> <span class="token function">appendNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> c <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    value<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'n'</span><span class="token punctuation">;</span>
    value<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'u'</span><span class="token punctuation">;</span>
    value<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'l'</span><span class="token punctuation">;</span>
    value<span class="token punctuation">[</span>c<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'l'</span><span class="token punctuation">;</span>
    count <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span><span class="token keyword">int</span> minimumCapacity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// overflow-conscious code</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>minimumCapacity <span class="token operator">-</span> value<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// åŠ é•¿å¹¶æ‹·è´</span>
        value <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token function">newCapacity</span><span class="token punctuation">(</span>minimumCapacity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼Œæ•´ä¸ª append()æ–¹æ³•æ˜¯é€šè¿‡å­—ç¬¦æ•°ç»„çš„åŠ é•¿ã€æ‹·è´ç­‰å¤„ç†å®Œæˆçš„ï¼Œæ²¡æœ‰ç”Ÿæˆä¸­é—´å¯¹è±¡ï¼Œåªæœ‰æœ€åç”¨ toString()è¿”å›ä¸€ä¸ª String å¯¹è±¡ã€‚é€Ÿåº¦æœ€å¿«ã€‚</p>
<p><strong>concat()æ–¹æ³•</strong><br>ç»§ç»­çœ‹æºç ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> otherLen <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>otherLen <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// è·å–åŸå­—ç¬¦ä¸²æ•°ç»„é•¿åº¦</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token comment">// å°†åŸå­—ç¬¦ä¸²çš„å­—ç¬¦æ•°ç»„æ‹·è´åˆ° buf æ•°ç»„</span>
    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> len <span class="token operator">+</span> otherLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¿½åŠ çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—ç¬¦æ•°ç»„ï¼Œæ·»åŠ åˆ° buf ä¸­</span>
    str<span class="token punctuation">.</span><span class="token function">getChars</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// äº§ç”Ÿä¸€ä¸ªæ–°çš„å¯¹è±¡</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ•´ä½“æ˜¯ä¸€ä¸ªæ•°ç»„çš„æ‹·è´ï¼Œåœ¨å†…å­˜ä¸­æ˜¯åŸå­æ“ä½œï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«ï¼Œä½†æœ€åè¿”å›è¯­å¥ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™å¯¹é€Ÿåº¦æœ‰ä¸€å®šå½±å“ã€‚</p>
<p>** â€œ+â€ **<br>è™½ç„¶ç¼–è¯‘å™¨å¯¹â€œ+â€åšäº†ä¼˜åŒ–ï¼Œä¼šä½¿ç”¨ StringBuilder çš„ append()æ–¹æ³•è¿›è¡Œè¿½åŠ ï¼Œä½†å®ƒæœ€ç»ˆä¼šé€šè¿‡ toString()æ–¹æ³•è½¬æ¢æˆ String å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å…¶è¿‡ç¨‹ä¸ºï¼š</p>
<ol>
<li>åˆ›å»º StringBuilder å¯¹è±¡ï¼›</li>
<li>æ‰§è¡Œå®Œæ¯•è°ƒç”¨ toString() æ–¹æ³•ã€‚</li>
</ol>
<p>å…·ä½“æƒ…å†µåˆ†ä¸ºï¼š<br>å¦‚æœåŠ å·ä¸¤è¾¹éƒ½æ˜¯å­—é¢é‡ï¼ˆæˆ–ç­‰æ•ˆäºå­—é¢é‡ï¼‰ï¼Œå½¢å¦‚<br>String str &#x3D; â€œabcâ€ + â€œ123â€;<br>æ­¤æ—¶çš„å¤„ç†æ–¹å¼æ˜¯ç›´æ¥å°† str ä½œä¸ºä¸€ä¸ªå¯¹è±¡å¤„ç†ï¼Œç›¸å½“äºå…ˆå¤„ç†å³è¾¹çš„åŠ å·ï¼Œå†è¿›è¡Œåˆ›å»ºï¼Œå‚è€ƒä¸Šé¢çš„â€œ&#x3D;â€åˆ›å»ºè§„åˆ™ï¼š<br>String str &#x3D; â€œabc123â€;<br>å¦åˆ™ï¼Œå½¢å¦‚ï¼š<br>String str &#x3D; â€œabcâ€;<br>str +&#x3D; â€œ123â€;<br>æ­¤æ—¶æ‰§è¡Œæƒ…å†µåˆ™æ˜æ˜¾ä¸åŒï¼Œç›¸å½“äºå°† str å†…å®¹å–å‡ºï¼Œå†ä¸ç¬¬äºŒä¸ªå­—ç¬¦ä¸²è¿›æ‹¼æ¥ï¼Œè¿”å›æ–°ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œæ³¨æ„è¿™é‡Œæœ‰æ–°å»ºåŠ¨ä½œï¼Œæ‰€ä»¥åˆ›å»ºè§„åˆ™ç›¸å½“äºä½¿ç”¨â€œnewâ€ï¼š<br>String str &#x3D; new StringBuilder(str).append(â€œ123â€).toString();<br>å³ï¼Œæ‰§è¡Œå®Œæ¯•ä¼šæœ‰ 3 ä¸ªå¯¹è±¡å­˜åœ¨ã€‚<br><strong>è€Œ final ç›¸å½“äºå®ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸä¼šæŠŠæ‰€æœ‰ç”¨ final å®šä¹‰çš„å˜é‡ç›´æ¥ç”¨å®šä¹‰å€¼æ›¿æ¢æ‰ï¼ˆå®æ›¿æ¢ï¼‰</strong>ã€‚<br><em>è¿™å°±è§£é‡Šäº†ä»¥ä¸Šä»£ç çš„ç»“æœã€‚</em></p>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µï¼Œä½¿ç”¨â€œ+â€ï¼Œå®ƒç¬¦åˆç¼–ç ä¹ æƒ¯ä»¥åŠå¯è¯»æ€§è¾ƒå¥½ï¼›</li>
<li>å½“é¢‘ç¹è¿›è¡Œå­—ç¬¦ä¸²çš„è¿ç®—ï¼ˆæ‹¼æ¥ã€æ›¿æ¢ã€åˆ é™¤ç­‰ï¼‰æ—¶ï¼Œæˆ–åœ¨ç³»ç»Ÿæ€§èƒ½ä¸´ç•Œçš„æ—¶å€™ï¼Œåº”è€ƒè™‘ä½¿ç”¨ append() å’Œ concat()ã€‚</li>
</ul>
<h3 id="Stringã€StringBufferã€StringBuilder"><a href="#Stringã€StringBufferã€StringBuilder" class="headerlink" title="Stringã€StringBufferã€StringBuilder"></a>Stringã€StringBufferã€StringBuilder</h3><p>ç®€å•è®²ï¼Œ<br>**<br>Stringï¼šå­—ç¬¦ä¸²å¸¸é‡ï¼ˆString ä¸º final ä¿®é¥°ç±»ï¼‰ï¼›<br>StringBufferï¼šå­—ç¬¦ä¸²å˜é‡ï¼Œçº¿ç¨‹å®‰å…¨ã€‚<br>StringBuilderï¼šå­—ç¬¦ä¸²å˜é‡ï¼Œéçº¿ç¨‹å®‰å…¨ï¼›<br>**</p>
<p><strong>StringBufferï¼ˆSince JDK1.0ï¼‰</strong><br>çº¿ç¨‹å®‰å…¨çš„å¯å˜å­—ç¬¦åºåˆ—ï¼Œåœ¨ä»»æ„æ—¶é—´ç‚¹ä¸Šå®ƒéƒ½åŒ…å«æŸç§ç‰¹å®šçš„å­—ç¬¦åºåˆ—ï¼Œä½†é€šè¿‡æŸäº›æ–¹æ³•è°ƒç”¨ï¼ˆå¦‚ append()ã€insert()ç­‰ï¼‰å¯ä»¥æ”¹å˜åºåˆ—çš„å†…å®¹å’Œé•¿åº¦ã€‚å¯å°†è¯¥å­—ç¬¦ä¸²ç¼“å†²åŒºå®‰å…¨åœ°ç”¨äºå¤šä¸ªçº¿ç¨‹ã€‚è§‚å¯Ÿæºç å¯è§ï¼Œä¸ºæä¾›çº¿ç¨‹å®‰å…¨ï¼Œå…¶å†…éƒ¨å®ç°ä¸­å¤§éƒ¨åˆ†æ–¹æ³•éƒ½æ˜¯ synchronized ä¿®é¥°çš„ã€‚</p>
<p><strong>StringBuilderï¼ˆSince JDK5.0ï¼‰</strong><br>å¯å˜å­—ç¬¦åºåˆ—ã€‚æä¾›ä¸ StringBuffer å…¼å®¹çš„ APIï¼Œä¸è¿‡ä¸ä¿è¯åŒæ­¥ï¼Œè¢«è®¾è®¡ç”¨ä½œ StringBuffer çš„ä¸€ä¸ªç®€æ˜“æ›¿æ¢ï¼Œç”¨åœ¨å­—ç¬¦ä¸²ç¼“å†²åŒºè¢«å•ä¸ªçº¿ç¨‹ä½¿ç”¨çš„åœºæ™¯ï¼ˆå¾ˆæ™®éï¼‰ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒæä¾›æ›´å¿«çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong>åœ¨é¢‘ç¹å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œä¿®æ”¹çš„åœºæ™¯ï¼Œæ ¹æ®å¯¹çº¿ç¨‹å®‰å…¨æ€§çš„éœ€æ±‚ï¼Œä¼˜å…ˆè€ƒè™‘ StringBuilderã€StringBuffer ä¸­çš„ä¸€ç§ã€‚</strong></p>
<h3 id="å…³äº-String-çš„-intern-æ–¹æ³•"><a href="#å…³äº-String-çš„-intern-æ–¹æ³•" class="headerlink" title="å…³äº String çš„ intern()æ–¹æ³•"></a>å…³äº String çš„ intern()æ–¹æ³•</h3><p>ä¸Šé¢æåˆ°ï¼Œinter()æ–¹æ³•å¯èƒ½å¯¼è‡´å°† String å¯¹è±¡å†™å…¥ String å¸¸é‡æ± ã€‚ä» JDK 7 å¼€å§‹ï¼Œå¸¸é‡æ±  ä» PermGen åŒºç§»åˆ°äº† java å †ï¼ˆjvms è§’åº¦è®²ï¼Œåº”è¯¥æ˜¯ä» æ–¹æ³•åŒº ç§»åˆ°äº† java å †ï¼ŒPermGen æ˜¯ HotSpot é‡Œçš„æ¦‚å¿µï¼‰ï¼Œè¯­ä¹‰ä¸Šçš„å˜åŒ–ä¸ºï¼š</p>
<ul>
<li>è°ƒç”¨ intern()æ–¹æ³•æ—¶ï¼Œå¦‚æœå †ä¸­æœ‰è¯¥å­—ç¬¦ä¸²è€Œå¸¸é‡æ± ä¸­æ²¡æœ‰ï¼Œåˆ™ç›´æ¥åœ¨å¸¸é‡æ± ä¸­ä¿å­˜å †ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯åœ¨å¸¸é‡æ± ä¸­æ–°å»ºå¯¹è±¡ã€‚</li>
</ul>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">ä½œè€…ï¼š</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            Neil
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">æ–‡ç« é“¾æ¥ï¼š</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://lazy-snail.github.io/2018/04/26/java/SourceCode/String/">
            https://lazy-snail.github.io/2018/04/26/java/SourceCode/String/
          </a>
        </p>
        <p><span style="font-weight: bold;">ç‰ˆæƒå£°æ˜ï¼š</span>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2018/04/27/java/into/java-%E8%AF%AD%E6%B3%95%E7%B3%96/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">Prev</div>
          
            <div class="nav-title">Java-è¯­æ³•ç³– </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2018/04/26/java/into/java-%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E4%B8%8E%E6%8B%86%E7%AE%B1/" 
        class="nav-link">
        <div>
          <div class="nav-label">Next</div>
          
            <div class="nav-title">Java-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®± </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#x3D-x3D-vs-equals-%E6%AF%94%E8%BE%83%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">&#x3D;&#x3D; vs equals() æ¯”è¾ƒé—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0"><span class="toc-number">2.</span> <span class="toc-text">å­—ç¬¦ä¸²å¸¸é‡æ± </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">ä¸¤ç§åˆ›å»ºæ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String%E3%80%81StringBuffer%E3%80%81StringBuilder"><span class="toc-number">5.</span> <span class="toc-text">Stringã€StringBufferã€StringBuilder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-String-%E7%9A%84-intern-%E6%96%B9%E6%B3%95"><span class="toc-number">6.</span> <span class="toc-text">å…³äº String çš„ intern()æ–¹æ³•</span></a></li></ol>
</div></main>
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="/img/little-prince.png" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">Neil</p>
<p class="author-description">there's a will there's a way</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>173</span>
    <span>Posts</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>13</span>
    <span>Categories</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>31</span>
    <span>Tags</span>
  </a>
</div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#x3D-x3D-vs-equals-%E6%AF%94%E8%BE%83%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">&#x3D;&#x3D; vs equals() æ¯”è¾ƒé—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0"><span class="toc-number">2.</span> <span class="toc-text">å­—ç¬¦ä¸²å¸¸é‡æ± </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">ä¸¤ç§åˆ›å»ºæ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String%E3%80%81StringBuffer%E3%80%81StringBuilder"><span class="toc-number">5.</span> <span class="toc-text">Stringã€StringBufferã€StringBuilder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-String-%E7%9A%84-intern-%E6%96%B9%E6%B3%95"><span class="toc-number">6.</span> <span class="toc-text">å…³äº String çš„ intern()æ–¹æ³•</span></a></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>Categories
  </div>
  <div class="categories-list">
    
      <a href="/categories/CN/">
        <div class="categories-list-item">
          CN
          <span class="categories-list-item-badge">10</span>
        </div>
      </a>
    
      <a href="/categories/CS/">
        <div class="categories-list-item">
          CS
          <span class="categories-list-item-badge">9</span>
        </div>
      </a>
    
      <a href="/categories/java/">
        <div class="categories-list-item">
          java
          <span class="categories-list-item-badge">61</span>
        </div>
      </a>
    
      <a href="/categories/middleware/">
        <div class="categories-list-item">
          middleware
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/tools/">
        <div class="categories-list-item">
          tools
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/DB/">
        <div class="categories-list-item">
          DB
          <span class="categories-list-item-badge">15</span>
        </div>
      </a>
    
      <a href="/categories/backend/">
        <div class="categories-list-item">
          backend
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/OS/">
        <div class="categories-list-item">
          OS
          <span class="categories-list-item-badge">14</span>
        </div>
      </a>
    
      <a href="/categories/Daily/">
        <div class="categories-list-item">
          Daily
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/cpp/">
        <div class="categories-list-item">
          cpp
          <span class="categories-list-item-badge">20</span>
        </div>
      </a>
    
      <a href="/categories/py/">
        <div class="categories-list-item">
          py
          <span class="categories-list-item-badge">3</span>
        </div>
      </a>
    
      <a href="/categories/Algs/">
        <div class="categories-list-item">
          Algs
          <span class="categories-list-item-badge">10</span>
        </div>
      </a>
    
      <a href="/categories/algs/">
        <div class="categories-list-item">
          algs
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>hot tags
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/java/" 
        title="java">
        <div class="tags-list-item">java</div>
      </a>
    
      <a 
        href="/tags/cpp/" 
        title="cpp">
        <div class="tags-list-item">cpp</div>
      </a>
    
      <a 
        href="/tags/OS/" 
        title="OS">
        <div class="tags-list-item">OS</div>
      </a>
    
      <a 
        href="/tags/DB/" 
        title="DB">
        <div class="tags-list-item">DB</div>
      </a>
    
      <a 
        href="/tags/MySQL/" 
        title="MySQL">
        <div class="tags-list-item">MySQL</div>
      </a>
    
      <a 
        href="/tags/%E5%AE%B9%E5%99%A8/" 
        title="å®¹å™¨">
        <div class="tags-list-item">å®¹å™¨</div>
      </a>
    
      <a 
        href="/tags/%E5%B9%B6%E5%8F%91/" 
        title="å¹¶å‘">
        <div class="tags-list-item">å¹¶å‘</div>
      </a>
    
      <a 
        href="/tags/JVM/" 
        title="JVM">
        <div class="tags-list-item">JVM</div>
      </a>
    
      <a 
        href="/tags/Algs/" 
        title="Algs">
        <div class="tags-list-item">Algs</div>
      </a>
    
      <a 
        href="/tags/CN/" 
        title="CN">
        <div class="tags-list-item">CN</div>
      </a>
    
      <a 
        href="/tags/CS/" 
        title="CS">
        <div class="tags-list-item">CS</div>
      </a>
    
      <a 
        href="/tags/Q-A/" 
        title="Q&A">
        <div class="tags-list-item">Q&amp;A</div>
      </a>
    
      <a 
        href="/tags/%E6%96%B0%E7%89%B9%E6%80%A7/" 
        title="æ–°ç‰¹æ€§">
        <div class="tags-list-item">æ–°ç‰¹æ€§</div>
      </a>
    
      <a 
        href="/tags/%E7%BA%BF%E7%A8%8B/" 
        title="çº¿ç¨‹">
        <div class="tags-list-item">çº¿ç¨‹</div>
      </a>
    
      <a 
        href="/tags/Sort/" 
        title="Sort">
        <div class="tags-list-item">Sort</div>
      </a>
    
      <a 
        href="/tags/Linux/" 
        title="Linux">
        <div class="tags-list-item">Linux</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>TOC
</div>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#x3D-x3D-vs-equals-%E6%AF%94%E8%BE%83%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">&#x3D;&#x3D; vs equals() æ¯”è¾ƒé—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0"><span class="toc-number">2.</span> <span class="toc-text">å­—ç¬¦ä¸²å¸¸é‡æ± </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">ä¸¤ç§åˆ›å»ºæ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String%E3%80%81StringBuffer%E3%80%81StringBuilder"><span class="toc-number">5.</span> <span class="toc-text">Stringã€StringBufferã€StringBuilder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-String-%E7%9A%84-intern-%E6%96%B9%E6%B3%95"><span class="toc-number">6.</span> <span class="toc-text">å…³äº String çš„ intern()æ–¹æ³•</span></a></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>Recent Posts
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-06-22</div>
        <a href="/2022/06/22/ING/Bean%E5%AE%9E%E4%BE%8B%E5%8C%96/"><div class="recent-posts-item-content">Beanå®ä¾‹åŒ–</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-06-21</div>
        <a href="/2022/06/21/java/spring/AOP/"><div class="recent-posts-item-content"></div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-06-21</div>
        <a href="/2022/06/21/java/spring/SpringBoot%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/"><div class="recent-posts-item-content"></div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-06-21</div>
        <a href="/2022/06/21/java/spring/ThreadLocal/"><div class="recent-posts-item-content"></div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright Â©
          
            2017 -
          
          2022
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          æ‡’èœ—ç‰›
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
      <div class="footer-dsc">
        
        
        
      </div>
      
    
</footer> 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="å›åˆ°é¡¶éƒ¨">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="æ§åˆ¶ä¸­å¿ƒ">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="å¤œè‰²æ¨¡å¼">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="æœç´¢">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
      

  
  
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      };
    </script>
    
<script src="//cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js"></script>

  
 
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
    
      <script> 
        loadScript('/js/lib/busuanzi.min.js') 
      </script>
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
     
    
    
      <script>
        setTimeout(() => {localSearch("search.json")}, 0)
      </script>
    
  </body>
</html>
